<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>
<div *ngIf="progressSpinner" class="overlay-spinner">
  <div class="loader"></div>
</div>

<div class="form-row p-lg-3 p-md-3">

  <!-- Categoria -->
  <div class="form-group-interlineado col-lg-3 col-md-3 pb-lg-2 pb-md-2">
    <label>{{ "facturacion.productos.categoria" | translate}}(*)</label>
    <p-dropdown (onChange)="valueChangeCategoria()" [filter]="true" styleClass="widthAll" [showClear]="true"
      placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='servicio.idtiposervicios'
      [options]="categoriasObject.combooItems"
      [ngClass]="{'camposObligatorios': aGuardar && servicio.idtiposervicios == null}">
    </p-dropdown>
  </div>

  <!-- Tipo -->
  <div class="form-group-interlineado col-lg-3 col-md-3 pb-lg-2 pb-md-2">
    <label>{{ "facturacion.productos.tipo" | translate}}(*)</label>
    <p-dropdown [disabled]="servicio.idtiposervicios == null" [filter]="true" styleClass="widthAll" [showClear]="true"
      placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='servicio.idservicio'
      [options]="tiposObject.combooItems" [ngClass]="{'camposObligatorios': aGuardar && servicio.idservicio == null}">
    </p-dropdown>
  </div>

  <!-- Servicio -->
  <div class="form-group-interlineado col-lg-3 col-md-3 pb-lg-2 pb-md-2">
    <label>{{ "facturacion.servicios.servicio" | translate}}(*)</label>
    <input type="text" class="form-control" [(ngModel)]='servicio.descripcion'
      [ngClass]="{'camposObligatorios': aGuardar && (servicio.descripcion == '' || servicio.descripcion == undefined)}"
      pInputText>
  </div>

  <!-- Codigo -->
  <div class="form-group-interlineado col-lg-3 col-md-3 pb-lg-2 pb-md-2">
    <label>{{ "facturacion.productos.codigo" | translate}}</label>
    <input type="text" class="form-control" [(ngModel)]='servicio.codigo' pInputText>
  </div>

  <!-- Permitir solicitud por internet -->
  <div class="form-group-interlineado col-lg-3 col-md-3" *ngIf="servicio.automatico == '0'">
    <div class="d-flex align-items-baseline justify-content-between alineacionCheckboxes">
      <p-checkbox binary="true"
        label="{{'facturacion.fichaservicios.datosgenerales.permitirsoliciturinternet' | translate}}"
        [(ngModel)]="checkBoxPermitirSolicitudPorInternet" (onChange)="onChangePermitirSolicitudInternet()">
      </p-checkbox>
    </div>
  </div>

  <!-- Permitir anulacion por internet -->
  <div class="form-group-interlineado col-lg-3 col-md-3">
    <div class="d-flex align-items-baseline justify-content-between alineacionCheckboxes">
      <p-checkbox binary="true"
        label="{{'facturacion.fichaservicios.datosgenerales.permitiranulacioninternet' | translate}}"
        [(ngModel)]="checkboxPermitirAnulacionPorInternet" (onChange)="onChangePermitirAnulacionInternet()">
      </p-checkbox>
    </div>
  </div>

  <!-- Condicion de suscripcion -->
  <div class="form-group-interlineado col-lg-3 col-md-3 pb-lg-2 pb-md-2">
    <label>{{ "facturacion.fichaservicios.datosgenerales.condicionsuscripcion" | translate}}(*)</label>
    <p-dropdown [filter]="true" styleClass="widthAll" [showClear]="true"
      placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='servicio.idconsulta'
      [options]="condicionesSuscripcionObject.combooItems">
    </p-dropdown>
  </div>

  <!-- Asignacion automatica -->
  <div class="form-group-interlineado col-lg-3 col-md-3">
    <div class="d-flex align-items-baseline justify-content-between alineacionCheckboxes">
      <p-checkbox binary="true" label="{{'facturacion.fichaservicios.datosgenerales.asignacionautomatica' | translate}}"
        [(ngModel)]="checkboxAsignacionAutomatica" (onChange)="onChangeAsignacionAutomatica()">
      </p-checkbox>
    </div>
  </div>

  <!-- Cuenta contable -->
  <div class="form-group-interlineado col-lg-3 col-md-3">
    <label>{{ "facturacion.fichaproductos.datosgenerales.cuentacontable" | translate}}</label>
    <input maxlength="20" type="text" class="form-control" [(ngModel)]='servicio.cuentacontable' pInputText>
  </div>

</div>

<!-- Botones -->
<div class="card-footer">
  <div class="text-right main-button">
    <!-- Restablecer -->
    <button (click)="restablecer()" pButton type="button" icon="fa fa-undo" iconPos="left"
      label="{{'general.boton.restablecer' | translate}}"></button>

    <!-- Eliminar -->
    <button [disabled]="desactivarBotonEliminar" *ngIf="servicio.fechabaja == null" (click)="eliminarReactivar()"
      pButton type="button" icon="fa fa-trash-alt " iconPos="left"
      label="{{'general.boton.eliminar' | translate}}"></button>

    <!-- Reactivar -->
    <button (click)="eliminarReactivar()" *ngIf="servicio.fechabaja != null" pButton type="button" icon="fa fa-undo "
      iconPos="left" label="{{'facturacion.maestros.tiposproductosservicios.reactivar' | translate}}"></button>

    <!-- Guardar -->
    <button (click)="guardar()" pButton type="button" icon="far fa-save" iconPos="left"
      label="{{ 'general.boton.guardar' | translate}}"></button>
  </div>