<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>
<div class="busqueda-container">
  <div class="header-title">
    <i class="fa fa-square"></i>
    <p>{{"general.boton.edit" | translate}}
      <i class="pl-1 fa fa-angle-right"></i>{{"administracion.contador.titulo" | translate}}</p>
  </div>
  <!--<div class="breadCrumb">
    <p>{{"general.boton.edit" | translate}} <i class="fa fa-angle-right"></i> {{ 'menu.administracion.usuarios' | translate}}
    </p>
  </div>-->

  <div class="card">
    <div class="card-body">
      <p class="title-module">{{"administracion.contador.titulo" | translate}}
        <i (click)="onHideDatosGenerales()" *ngIf="showDatosGenerales" class="fa fa-angle-up float-right"></i>
        <i (click)="onHideDatosGenerales()" *ngIf="!showDatosGenerales" class="fa fa-angle-down float-right"></i>
      </p>

      <div *ngIf="showDatosGenerales" class="module vista-avanzada">
        <div class="form-row">

          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.codigo" | translate}}</label>
            <label class="d-block pb-2">{{body.idcontador}}</label>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.nombre" | translate}}</label>
            <input type="text" name="nombre" class="form-control" [(disabled)]="!editar" [(ngModel)]='body.nombre' (ngModelChange)="onChangeForm()"
              pInputText>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.descripcion" | translate}}</label>
            <input type="text" name="descripcion" class="form-control" [(disabled)]="!editar" [(ngModel)]='body.descripcion' pInputText>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.modificable" | translate}}</label>
            <p-checkbox name="modificable" [(ngModel)]="checkmodificable" [(disabled)]="!editar" binary="true" (onChange)="onChangeCheck($event)"></p-checkbox>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.modo" | translate}}</label>
            <p-dropdown class="select-form" [(disabled)]="!editar" [(ngModel)]="body.modo" [options]="contadores_modo"></p-dropdown>
          </div>
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.prefijo" | translate}}</label>
            <input type="text" name="prefijo" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.prefijo' pInputText>
          </div>
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.contadorActual" | translate}}</label>
            <input type="text" name="prefijo" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.contador' pInputText>
          </div>
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.sufijo" | translate}}</label>
            <input type="text" name="prefijo" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.sufijo' pInputText>
          </div>
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.longitud" | translate}}</label>
            <input type="text" name="descripcion" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.longitudcontador' pInputText>
          </div>


        </div>
      </div>
    </div>


    <div class="card-body">
      <p class="title-module">{{"administracion.contador.reconfigurar" | translate}}
        <i (click)="onHideReconfiguracion()" *ngIf="showReconfiguracion" class="fa fa-angle-up float-right"></i>
        <i (click)="onHideReconfiguracion()" *ngIf="!showReconfiguracion" class="fa fa-angle-down float-right"></i>
      </p>

      <div *ngIf="showReconfiguracion" class="module vista-avanzada">
        <div class="form-row">
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.fechaReconfiguracion" | translate}}</label>
            <app-fecha [utc]="true" [disabled]="!editar" [(value)]="fechareconfiguracion" (valueChangeSelected)="fillFechaReconfiguracion($event)"
              (valueChangeInput)="fillFechaReconfiguracion($event)"></app-fecha>
          </div>
        </div>
        <div *ngIf="fechareconfiguracion!=null" class="form-row">

          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.prefijoSiguiente" | translate}}</label>
            <input type="text" name="prefijo" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.reconfiguracionprefijo' pInputText>
          </div>
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.contadorSiguiente" | translate}}</label>
            <input type="text" name="prefijo" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.reconfiguracioncontador'
              pInputText>
          </div>
          <div class="form-group col-lg-3 col-md-3">
            <label class="d-block pb-2">{{"administracion.parametrosGenerales.literal.sufijoSiguiente" | translate}}</label>
            <input type="text" name="prefijo" [(disabled)]="!editar" class="form-control" [(ngModel)]='body.reconfiguracionsufijo' pInputText>
          </div>
        </div>

      </div>
    </div>



    <div class="card-footer">
      <div class="text-right main-button ">
        <button (click)="volver();" pButton type="button" icon="	fa fa-close " iconPos="left" label="{{ 'general.boton.cancel' | translate}}"></button>
        <button [disabled]="checkEditar()" (click)="isRestablecer();" pButton type="button" icon="	fa fa-undo " iconPos="left" label="{{ 'general.boton.restablecer' | translate}}"></button>
        <button (click)="confirmEdit();" pButton type="button" icon="	fa fa-edit " iconPos="left" label="{{ 'general.boton.guardarCerrar' | translate}}"
          [disabled]="checkEditar()"></button>
      </div>
    </div>
    <app-dialog></app-dialog>
  </div>