<div class="ficha-comunicacion-container" id="mainContainer">
  <div class="header-title">
    <i class="fa fa-square"></i>
    <p>{{'menu.justiciaGratuita' | translate}}
      <i class="fa fa-angle-right"></i> {{ 'menu.justiciaGratuita.justiciables' | translate }}
      <i class="fa fa-angle-right"></i> {{ 'menu.justiciaGratuita.justiciables.gestionjusticiables' | translate }}
    </p>
  </div>
  <div>
    <div *ngFor="let ficha of fichasPosibles" [ngSwitch]="ficha.key">

      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- fromJusticiable: variable indica desde donde se accede a la ficha justiciables -->
      <!-- modoRepresentante: variable indica si estamos accediendo a la ficha en modo representante y no justiciable -->
      <!-- checkedViewRepresentante: variable indica si estamos viendo la ficha de un representante -->
      <!-- notifySearchJusticiableByNif: cuando se necesita buscar a un justiciable mediante el nif -->
      <!-- checkedViewRepresentante: variable indica si estamos viendo la ficha de un representante -->
      <!-- newJusticiable: Funcion para indicar a las demás tarjetas que se ha creado un nuevo justiciable -->
      <!-- searchJusticiableOverwritten: Funcion para indicar que se ha sobrescrito un justiciable al añadir en modo nuevo un nif registrado y pulsar que se quiere sobreescribir -->

      <app-datos-generales *ngSwitchCase="'generales'" [showTarjeta]="ficha.activa" [body]="body" [fromJusticiable]="fromJusticiable"
        [modoRepresentante]="modoRepresentante" [checkedViewRepresentante]="checkedViewRepresentante" (notifySearchJusticiableByNif)="searchJusticiableByNif($event)"
        (newJusticiable)="newJusticiable($event)" (searchJusticiableOverwritten)="searchJusticiableOverwritten($event)"></app-datos-generales>

      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- body: variable donde se le pasa la informacion de un justiciable -->
      <!-- createJusticiableByUpdateSolicitud: Funcion para indicar a las demás tarjetas que se ha creado un nuevo justiciable al cambiar los datos de solicitud
      y no querer actualizar el justiciable propio-->

      <app-datos-personales *ngSwitchCase="'personales'" [showTarjeta]="ficha.activa" [body]="body" (notifySearchJusticiableByNif)="searchJusticiableByNif($event)"
        (newJusticiable)="newJusticiable($event)" (searchJusticiableOverwritten)="searchJusticiableOverwritten($event)"></app-datos-personales>

      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- body: variable donde se le pasa la informacion de un justiciable -->
      <!-- createJusticiableByUpdateSolicitud: Funcion para indicar a las demás tarjetas que se ha creado un nuevo justiciable al cambiar los datos de solicitud
      y no querer actualizar el justiciable propio-->

      <app-datos-solicitud *ngSwitchCase="'solicitud'" [showTarjeta]="ficha.activa" [body]="body" (createJusticiableByUpdateSolicitud)="createJusticiableByUpdateSolicitud($event)"></app-datos-solicitud>

      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- body: variable donde se le pasa la informacion de un justiciable -->
      <!-- modoEdicion: variable indica si estamos en modo edicion o nuevo -->
      <!-- checkedViewRepresentante: variable indica si estamos viendo la ficha de un representante -->
      <!-- newRepresentante: indicar que se ha creado un nuevo representante -->
      <!-- viewRepresentante: indicar que se quiere mostrar la ficha en modo representante -->
      <!-- newJusticiable: Funcion para indicar a las demás tarjetas que se ha creado un nuevo justiciable -->
      <!-- createJusticiableByUpdateRepresentante: Funcion para indicar que se ha creado un nuevo justiciable desde la tarjeta representante -->
      <!-- navigateToJusticiable: Funcion para indicar que ya no estamos en modo representante -->

      <app-datos-representante *ngSwitchCase="'representante'" [showTarjeta]="ficha.activa" [body]="body" [modoEdicion]="modoEdicion"
        [checkedViewRepresentante]="checkedViewRepresentante" (newRepresentante)="newRepresentante($event)" (viewRepresentante)="viewRepresentante($event)"
        (createJusticiableByUpdateRepresentante)="createJusticiableByUpdateRepresentante($event)" [navigateToJusticiable]="navigateToJusticiable"></app-datos-representante>

      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- body: variable donde se le pasa la informacion de un justiciable -->
      <!-- fromJusticiable: variable indica desde donde se accede a la ficha justiciables -->
      <!-- modoEdicion: variable indica si estamos en modo edicion o nuevo -->

      <app-asuntos *ngSwitchCase="'asuntos'" [showTarjeta]="ficha.activa" [body]="body" [fromJusticiable]="fromJusticiable" [modoEdicion]="modoEdicion"></app-asuntos>

      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- body: variable donde se le pasa la informacion de un justiciable -->
      <!-- modoEdicion: variable indica si estamos en modo edicion o nuevo -->

      <!-- <app-datos-abogado-contrario *ngSwitchCase="'abogado'" [showTarjeta]="ficha.activa" [body]="body"  [modoEdicion]="modoEdicion"></app-datos-abogado-contrario> -->
    
      <!-- showTarjeta: variable indica si se muestra o no la tarjeta -->
      <!-- body: variable donde se le pasa la informacion de un justiciable -->
      <!-- modoEdicion: variable indica si estamos en modo edicion o nuevo -->

      <!-- <app-datos-procurador-contrario *ngSwitchCase="'procurador'" [showTarjeta]="ficha.activa" [body]="body" [modoEdicion]="modoEdicion"></app-datos-procurador-contrario> -->
    </div>
  </div>
</div>
<div class="mt-3 text-right main-button ">
  <button (click)="backTo()" pButton type="button" icon="fa fa-angle-left" iconPos="left" label="{{ 'general.boton.volver' | translate }}"></button>
</div>

<div *ngIf="progressSpinner" class="overlay-spinner">
  <div class="loader"></div>
</div>