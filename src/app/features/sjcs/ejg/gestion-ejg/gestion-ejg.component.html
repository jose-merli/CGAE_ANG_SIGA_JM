<div class="ficha-comunicacion-container" id="top">
    <div class="header-title">
        <i class="fa fa-square"></i>
        <p>{{'menu.justiciaGratuita' | translate}}
        <i class="fa fa-angle-right"></i>{{'justiciaGratuita.ejg.datosGenerales.EJG' | translate}}
    </div>
    <div>
        
        <app-tarjeta-resumen-fija class="pb-50"
            (isOpen)="openTarjeta($event)"
            [titulo]="'justiciaGratuita.oficio.turnos.inforesumen'" [chincheta]="true" [datos]="datosResumen" [enlaces]="enlacesResumen" [icono]="'clipboard'">
        </app-tarjeta-resumen-fija>
        
        <app-datos-generales-ejg [checkPermission]="permisos.datosGenerales" id="tarjetaDatosGenerales"
            (guardadoSend)="guardadoSend($event)" (crearDesignacion)="crearDesignacion()"
            [permisoEscritura]="isPermisoTarjeta('tarjetaDatosGenerales')" [haveDesignacion]="haveDesignacion"
            [datos]="body" [modoEdicion]="modoEdicion" [nuevo]="nuevo" [openTarjetaDatosGenerales]="isOpenTarjeta('tarjetaDatosGenerales')">
        </app-datos-generales-ejg>

        <app-unidad-familiar [checkPermission]="permisos.unidadFamiliar" *ngIf="modoEdicion" id="tarjetaUnidadFamiliar"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaUnidadFamiliar')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaUnidadFamiliar]="isOpenTarjeta('tarjetaUnidadFamiliar')">
        </app-unidad-familiar>
        
        <app-expedientes-economicos [checkPermission]="permisos.expedientesEconomicos" *ngIf="modoEdicion" id="tarjetaExpedientesEconomicos"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaExpedientesEconomicos')"
            [body]="body" [modoEdicion]="modoEdicion" [openTarjetaExpedientesEconomicos]="isOpenTarjeta('tarjetaExpedientesEconomicos')">
        </app-expedientes-economicos>
    
        <app-relaciones [checkPermission]="permisos.relaciones" *ngIf="modoEdicion" id="tarjetaRelaciones"
            (guardadoSend)="isAsociaDES($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaRelaciones')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaRelaciones]="isOpenTarjeta('tarjetaRelaciones')">
        </app-relaciones>

        <app-defensa-juridica [checkPermission]="permisos.defensaJuridica" *ngIf="modoEdicion" id="tarjetaDefensaJuridica"
            (guardadoSend)="guardadoSend($event)" (crearDesignacion)="crearDesignacion()"
            [permisoEscritura]="isPermisoTarjeta('tarjetaDefensaJuridica')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaDefensaJuridica]="isOpenTarjeta('tarjetaDefensaJuridica')">
        </app-defensa-juridica>
        
        <app-contrarios-pre-designacion [checkPermission]="permisos.contrarios" *ngIf="modoEdicion" id="tarjetaContrariosPreDesigna"    
            [permisoEscritura]="isPermisoTarjeta('tarjetaContrariosPreDesigna')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaContrariosPreDesigna]="isOpenTarjeta('tarjetaContrariosPreDesigna')">
        </app-contrarios-pre-designacion>
        
        <app-procurador-pre-designacion [checkPermission]="permisos.procurador" *ngIf="modoEdicion" id="tarjetaProcuradorPreDesigna"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaProcuradorPreDesigna')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaProcuradorPreDesigna]="isOpenTarjeta('tarjetaProcuradorPreDesigna')">
        </app-procurador-pre-designacion>
    
        <!-- TERMINAR -->
        <app-estados [checkPermission]="permisos.estados" *ngIf="modoEdicion" id="tarjetaEstados"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaEstados')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaEstados]="isOpenTarjeta('tarjetaEstados')">
        </app-estados>

        <app-documentacion [checkPermission]="permisos.documentacion" *ngIf="modoEdicion" id="tarjetaDocumentacion"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaDocumentacion')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaDocumentacion]="isOpenTarjeta('tarjetaDocumentacion')">
        </app-documentacion>
        
        <!-- TERMINAR -->
        <app-informe-calificacion [checkPermission]="permisos.informeCalif" *ngIf="modoEdicion" id="tarjetaInformeCalificacion"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaInformeCalificacion')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaInformeCalificacion]="isOpenTarjeta('tarjetaInformeCalificacion')">
        </app-informe-calificacion>

        <!-- TERMINAR -->
        <app-resolucion [checkPermission]="permisos.resolucion" *ngIf="modoEdicion" id="tarjetaResolucion"
            (guardadoSend)="guardadoResolucion($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaResolucion')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaResolucion]="isOpenTarjeta('tarjetaResolucion')">
        </app-resolucion>

        <!-- TERMINAR -->
        <app-impugnacion [checkPermission]="permisos.impugnacion" *ngIf="modoEdicion" id="tarjetaImpugnacion"
            (guardadoSend)="guardadoSend($event)" [permisoEscritura]="isPermisoTarjeta('tarjetaImpugnacion')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaImpugnacion]="isOpenTarjeta('tarjetaImpugnacion')">
        </app-impugnacion>

        <!-- TERMINAR -->
        <app-regtel-ejg [checkPermission]="permisos.regtel" *ngIf="modoEdicion"  id="tarjetaRegtel"
            (guardadoSend)="actualizarTarjetasIntercambios()" [permisoEscritura]="isPermisoTarjeta('tarjetaRegtel')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaRegtel]="isOpenTarjeta('tarjetaRegtel')">
        </app-regtel-ejg>

        <app-comunicaciones-ejg [checkPermission]="permisos.comunicaciones" *ngIf="modoEdicion" id="tarjetaComunicaciones"
            [permisoEscritura]="isPermisoTarjeta('tarjetaComunicaciones')"
            [datos]="body" [modoEdicion]="modoEdicion" [openTarjetaComunicaciones]="isOpenTarjeta('tarjetaComunicaciones')">
        </app-comunicaciones-ejg>

        <!--[permisoEscritura]="isPermisoTarjeta('tarjetaFac')"-->
        <app-tarjeta-facturacion-generica [checkPermission]="permisos.facturaciones" *ngIf="modoEdicion" id="tarjetaFac"
            (guardarDatos)="guardadoSend()"
            [datosEntrada]="body" [pantalla]="'EJG'" [showTarjeta]="isOpenTarjeta('tarjetaFac')">
        </app-tarjeta-facturacion-generica>
        
        <app-lista-intercambios-alta-ejg [checkPermission]="permisos.intercambiosPericles" *ngIf="modoEdicion" id="tarjetaListaIntercambiosAltaEjg"
            [permisoEscritura]="isPermisoTarjeta('tarjetaListaIntercambiosAltaEjg')"
            [body]="body" [openTarjetaListaIntercambiosAltaEjg]="isOpenTarjeta('tarjetaListaIntercambiosAltaEjg')">
        </app-lista-intercambios-alta-ejg>
        
        <app-lista-intercambios-documentacion-ejg [checkPermission]="permisos.intercambiosPericles" *ngIf="modoEdicion" id="tarjetaListaIntercambiosDocumentacionEjg"
            [permisoEscritura]="isPermisoTarjeta('tarjetaListaIntercambiosDocumentacionEjg')"
            [body]="body" [openTarjetaListaIntercambiosDocumentacionEjg]="isOpenTarjeta('tarjetaListaIntercambiosDocumentacionEjg')">
        </app-lista-intercambios-documentacion-ejg>
    </div>

</div>
<div class="mt-3 text-right main-button" id="down">
    <button (click)="backTo()" pButton type="button" icon="fa fa-angle-left" iconPos="left" label="{{ 'general.boton.volver' | translate }}"></button>
</div>