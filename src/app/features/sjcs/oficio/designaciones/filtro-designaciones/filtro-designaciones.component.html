<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<div class="card">
    <div class="card-body">
        <div class="form-group-interlineado">
            <p-radioButton [(ngModel)]='radioTarjeta' name="tarj" value="designas" (click)="changeFilters()" label="**Designas**" class="mr-4"></p-radioButton>
            <p-radioButton [(ngModel)]='radioTarjeta' name="tarj" value="justificacion" (click)="changeFilters()" label="**Justificación Expréss**" class="mr-4"></p-radioButton>
        </div>

        <!-- FILTRO DESIGNAS -->
        <div id="designas" *ngIf="showDesignas" class="form-group-interlineado">
            <!-- datos identificacion -->
            <mat-accordion class="example-headers-align" multi>
                <mat-expansion-panel class="my-1" [expanded]="expanded">
                    <mat-expansion-panel-header class="h100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                        <div class="font-weight-bold">
                            <p class="w100">{{ "justiciaGratuita.sjcs.designas.DatosIden" | translate }}</p>
                        </div>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent>
                        <div class="form-row">
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.ano" | translate}}</label> 
                                <input type="number" class="form-control" [(ngModel)]='body.ano' maxLength = "4" pInputText> 
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.numero" | translate}}</label> 
                                <input  type="text"  maxLength = "10" class="form-control" [(ngModel)]='body.codigo' pInputText>
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.fchAdesde" | translate}}</label>
                                <app-fecha (valueChangeSelected)="fillFechaAperturaDesde($event)" (valueChangeInput)="fillFechaAperturaDesde($event)"></app-fecha>
                                <!-- <app-fecha [(value)]="fechaIncorporacionDesdeSelect" [utc]="false" (valueChangeSelected)="fillFechaIncorporacionDesde($event)" (valueChangeInput)="fillFechaIncorporacionDesde($event)"></app-fecha> -->
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.fchAhasta" | translate}}</label>
                                <app-fecha (valueChangeSelected)="fillFechaAperturaHasta($event)" (valueChangeInput)="fillFechaAperturaHasta($event)"></app-fecha>
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.estado" | translate}}</label>
                                <p-dropdown [filter]="true" [options]="comboEstados" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true"  placeholder="{{ 'general.boton.seleccionar' | translate }}">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.tipoDesigna" | translate}}</label>
                                <p-dropdown [filter]="true"  [options]="comboTipoDesigna" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}">
                                </p-dropdown>
                            </div>

                            <div class="form-group-interlineado col-lg-6 col-md-6">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.turno" | translate}}</label>
                                <p-dropdown [filter]="true" [options]="comboTurno" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.actuacionesV" | translate}}</label>
                                <p-dropdown [filter]="true" [options]="actuacionesV" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.actuacionesDocu" | translate}}</label>
                                <p-dropdown [filter]="true" [options]="actuacionesDocu" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-2 col-md-2">
                                <label>{{ "justiciaGratuita.sjcs.designas.DatosIden.art" | translate}}</label>
                                <p-dropdown [filter]="true" [options]="comboArt" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}">
                                </p-dropdown>
                            </div>
                        </div>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>
             <!-- colegiado -->
             <mat-accordion class="example-headers-align" multi>
                <mat-expansion-panel class="my-1" [expanded]="showColegiado">
                    <mat-expansion-panel-header class="h100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                        <div class="font-weight-bold">
                            <p class="w100">{{ "justiciaGratuita.sjcs.designas.colegiado" | translate}}</p>
                        </div>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent>
                        <app-busqueda-colegiado-express class="flexCenter" [pantalla]="'guardia'"
                            [numColegiado]="usuarioBusquedaExpress.numColegiado" [nombreAp]="usuarioBusquedaExpress.nombreAp"
                            [disabled]="disabledBusquedaExpress">
                         </app-busqueda-colegiado-express>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <!-- FILTRO JUSTIFICACION EXPRESS -->
        <div id="buscaJustiExp" *ngIf="showJustificacionExpress" class="form-group-interlineado">

            <!-- colegiado -->
            <mat-accordion class="example-headers-align" multi>
                <mat-expansion-panel class="my-1" [expanded]="expanded">
                    <mat-expansion-panel-header class="h100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                        <div class="font-weight-bold">
                            <p class="w100">**Colegiado**</p>
                        </div>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent>
                        <app-busqueda-colegiado-express class="flexCenter" [pantalla]="'ejg'" [numColegiado]="usuarioBusquedaExpress.numColegiado" [nombreAp]="usuarioBusquedaExpress.nombreAp">
                        </app-busqueda-colegiado-express>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>

            <!-- restricciones -->
            <mat-accordion class="example-headers-align" multi>
                <mat-expansion-panel class="mb-1">
                    <mat-expansion-panel-header class="h100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                        <div class="font-weight-bold">
                            <p class="w100">**Restricciones de búsqueda**</p>
                        </div>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent>
                        <div class="form-row">
                            <div class="form-group-interlineado col-lg-4 col-md-4 vertical-center">
                                <p-checkbox binary="true" label="**Mostrar solo justificaciones y/0 validaciones pendientes**" class="ml-0"></p-checkbox>
                            </div>

                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Fecha de Justificación Desde**</label>
                                <app-fecha [(value)]="filtroJustificacion.justificacionDesde" [maxDate]="filtroJustificacion.justificacionHasta" (valueChangeInput)="fillFechasJustificacion($event, 'justificacionDesde')" (valueChangeSelected)="fillFechasJustificacion($event, 'justificacionDesde')">
                                </app-fecha>
                            </div>

                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Fecha de Justificación Hasta**</label>
                                <app-fecha [(value)]="filtroJustificacion.justificacionHasta" [minDate]="filtroJustificacion.justificacionDesde" (valueChangeInput)="fillFechasJustificacion($event, 'justificacionHasta')" (valueChangeSelected)="fillFechasJustificacion($event, 'justificacionHasta')">
                                </app-fecha>
                            </div>

                            <div class="form-group-interlineado col-lg-4 col-md-4 vertical-center">
                                <p-checkbox binary="true" label="**Activar restricciones de visualización de la ficha colegial**" class="ml-0"></p-checkbox>
                            </div>

                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Estado**</label>
                                <p-dropdown [filter]="true" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='filtroJustificacion.estado' [options]="comboEstados">
                              </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Actuaciones Validadas**</label>
                                <p-dropdown [filter]="true" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='filtroJustificacion.actuacionesValidadas' [options]="comboActuacionesValidadas">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Incluir sin EJG**</label>
                                <p-dropdown [filter]="true" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='filtroJustificacion.sinEJG' [options]="comboSinEJG">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Con EJG no favorables**</label>
                                <p-dropdown [filter]="true" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='filtroJustificacion.conEJGNoFavorables' [options]="comboEJGnoFavorable">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**EJG's sin resolución**</label>
                                <p-dropdown [filter]="true" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='filtroJustificacion.ejgSinResolucion' [options]="comboEJGSinResolucion">
                                </p-dropdown>
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**EJG's Resolución PTE CAJG**</label>
                                <p-dropdown [filter]="true" styleClass="widthAll" filterBy="label,labelSinTilde" [showClear]="true" placeholder="{{ 'general.boton.seleccionar' | translate }}" [(ngModel)]='filtroJustificacion.resolucionPTECAJG' [options]="comborResoluciones">
                                </p-dropdown>
                            </div>
                        </div>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>

            <!-- datos designacion -->
            <mat-accordion class="example-headers-align" multi>
                <mat-expansion-panel class="mb-1">
                    <mat-expansion-panel-header class="h100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                        <div class="font-weight-bold">
                            <p class="w100">**Datos Designación y EJG's**</p>
                        </div>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent>
                        <div class="form-row">

                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Fecha de Designación Desde**</label>
                                <app-fecha [(value)]="filtroJustificacion.designacionDesde" [maxDate]="filtroJustificacion.designacionHasta" (valueChangeInput)="fillFechasJustificacion($event, 'designacionDesde')" (valueChangeSelected)="fillFechasJustificacion($event, 'designacionDesde')">
                                </app-fecha>
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Fecha de Designación Hasta**</label>
                                <app-fecha [(value)]="filtroJustificacion.designacionHasta" [minDate]="filtroJustificacion.designacionDesde" (valueChangeInput)="fillFechasJustificacion($event, 'designacionHasta')" (valueChangeSelected)="fillFechasJustificacion($event, 'designacionHasta')">
                                </app-fecha>
                            </div>

                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Año Designación**</label> 
                                <input pInputText type="text" class="form-control" [(ngModel)]='filtroJustificacion.anioDesignacion' maxLength="4"> 
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Número Designación**</label> 
                                <input pInputText type="text" class="form-control" [(ngModel)]='filtroJustificacion.numDesignacion' maxLength="10"> 
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Apellidos**</label> 
                                <input pInputText type="text" class="form-control" [(ngModel)]='filtroJustificacion.apellidos' maxLength="60"> 
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Nombre**</label> 
                                <input pInputText type="text" class="form-control" [(ngModel)]='filtroJustificacion.nombre' maxLength="30"> 
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Año EJG**</label> 
                                <input pInputText type="text" class="form-control" [(ngModel)]='filtroJustificacion.anioEJG' maxLength="4"> 
                            </div>
                            <div class="form-group-interlineado col-lg-4 col-md-4">
                                <label>**Número EJG**</label> 
                                <input pInputText type="text" class="form-control" [(ngModel)]='filtroJustificacion.numEJG' maxLength="10"> 
                            </div>
                        </div>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>

    <!-- FOOTER -->
    <div class="card-footer">
        <div class="text-right main-button">
            <!-- <button pButton type="button" icon="fa fa-eraser" iconPos="left" label="{{ 'general.boton.clear' | translate}}" (click)="hideResponse()"  [disabled]="isDisabledButtons()"> -->
            <button pButton type="button" icon="fa fa-eraser" iconPos="left" label="{{ 'general.boton.clear' | translate}}">
            </button>
            <!-- <button type="submit" pButton icon="fa fa-search" iconPos="left" label="{{'general.boton.search' | translate}}" (click)="showResponse();showMsg('info', 'Mostrando información buscada', '')" [disabled]="isDisabledButtons()"> -->
            <button type="submit" pButton icon="fa fa-search" iconPos="left" label="{{'general.boton.search' | translate}}">
            </button>
        </div>
    </div>
</div>

<div *ngIf="progressSpinner" class="overlay-spinner">
    <div class="loader"></div>
</div>