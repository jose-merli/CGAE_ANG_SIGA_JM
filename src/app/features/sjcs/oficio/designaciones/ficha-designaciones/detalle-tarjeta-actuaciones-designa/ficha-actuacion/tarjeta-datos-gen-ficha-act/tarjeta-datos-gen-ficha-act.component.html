<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<!-- Spinner -->
<div *ngIf="progressSpinner" class="overlay-spinner">
  <div class="loader"></div>
</div>
<!-- Spinner -->

<div class="row w-100 m-0 padding-interior">
  <div class="bloque col-lg-4 col-md-4 mb-5">
    <div class="form-row">

      <div class="form-group col-lg-6 col-md-6 w-100">
        <label>{{ datos.datePicker.label }}</label>
        <app-fecha [utc]="false" [(value)]='datos.datePicker.value' [minDate]="fechaEntradaInicioDate"
          [maxDate]="fechaMaxima" (valueChangeSelected)="fillFecha($event)" (valueChangeInput)="fillFecha($event)"
          [disabled]="isAnulada || modoLectura || modoLectura2"
          [inputStyleClass]="(datos.datePicker.value == null || datos.datePicker.value == '') ? 'camposObligatorios': ''">
        </app-fecha>
      </div>

      <div class="form-group col-lg-6 col-md-6 w-100" *ngFor="let input of datos.inputs1; let i = index;">
        <label>{{ input.label }}</label>
        <input type="text" class="form-control" pInputText [(ngModel)]="input.value" readonly
          [ngClass]="{'camposObligatorios': (input.obligatorio && (input.value == '' || input.value == null))}">
      </div>

      <div class=" form-group col-lg-12 col-md-12 w-100">
        <label>{{ datos.textarea.label }}</label>
        <textarea class="form-control" pInputTextarea [(ngModel)]="datos.textarea.value" maxlength="4000"
          [readonly]="isAnulada || modoLectura || modoLectura2"></textarea>
      </div>

    </div>
  </div>
  <div class="col-lg-8 col-md-8 mb-5">
    <div class="form-row">
      <div class="form-group col-lg-6 col-md-6 w-100">
        <div *ngFor="let selector of datos.selectores">
          <div *ngIf="selector.nombre == 'Juzgado (*)'">
            <label>{{ selector.nombre }}</label>
            <p-dropdown class="select-form" [(ngModel)]="selector.value"
              placeholder="{{'general.boton.seleccionar' | translate}}" [options]="selector.opciones" [filter]="true"
              filterBy="label,labelSinTilde" [showClear]="true" (onChange)="onChangeSelector(selector)"
              [ngClass]="{'camposObligatorios': marcaObligatorio(selector)}"
              [disabled]="isAnulada || selector.disabled || modoLectura || modoLectura2">
            </p-dropdown>
          </div>
        </div>
      </div>
      <div class="form-group col-lg-4 col-md-4 w-100">
        <label>{{ datos.inputNig.label }} <span *ngIf="datos.inputNig.obligatorio">(*)</span></label>
        <input type="text" class="form-control" pInputText [(ngModel)]="datos.inputNig.value"
          [readonly]="isAnulada || modoLectura || modoLectura2"
          [ngClass]="{'camposObligatorios': (datos.inputNig.obligatorio && (datos.inputNig.value == null || datos.inputNig.value.trim() == ''))}">
      </div>
      <div class="form-group col-lg-2 col-md-2 w-100">
        <label>{{ datos.inputNumPro.label }} <span *ngIf="datos.inputNumPro.obligatorio">(*)</span></label>
        <input type="text" class="form-control" pInputText [(ngModel)]="datos.inputNumPro.value"
          [readonly]="isAnulada || modoLectura || modoLectura2"
          [ngClass]="{'camposObligatorios': (datos.inputNumPro.obligatorio && (datos.inputNumPro.value == null || datos.inputNumPro.value.trim() == ''))}">
      </div>
      <div class="form-group col-lg-6 col-md-6 w-100" *ngFor="let selector of datos.selectores.slice(1)">
        <div *ngIf="selector.nombre != 'Juzgado (*)'">
          <label>{{ selector.nombre }}</label>
          <p-dropdown class="select-form" [(ngModel)]="selector.value"
            placeholder="{{'general.boton.seleccionar' | translate}}" [options]="selector.opciones" [filter]="true"
            filterBy="label,labelSinTilde" [showClear]="true" (onChange)="onChangeSelector(selector)"
            [ngClass]="{'camposObligatorios': marcaObligatorio(selector)}"
            [disabled]="isAnulada || selector.disabled || modoLectura || modoLectura2">
          </p-dropdown>
        </div>
      </div>
      <div class="form-group col-lg-6 col-md-6 w-100" style="display: flex; align-items: flex-end;">
        Completar si es complemento por desplazamiento
      </div>
    </div>
  </div>
</div>

<div class="card-footer">
  <div class="text-right main-button">
    <button pButton type="button" icon="fa fa-comment" iconPos="left" label="{{'general.boton.comunicar' | translate }}"
      (click)="navigateComunicar()" [disabled]="isAnulada || modoLectura || modoLectura2"></button>
    <button pButton type="button" icon="fa fa-undo" iconPos="left" label="Restablecer" (click)="restablecer()"
      [disabled]="isAnulada || modoLectura || modoLectura2"></button>
    <button pButton type="button" icon="far fa-save" iconPos="left" label="Guardar" (click)="checkDesignaJuzgadoProcedimiento()"
      [disabled]="isAnulada || modoLectura || modoLectura2"></button>
  </div>
</div>

<p-confirmDialog header="{{ 'general.cabecera.confirmacion' | translate}}" icon="icon" key="confirmGuardar" width="425"
  #confirmGuardar>
  <p-footer>
    <button type="button" pButton icon="fa-check" label="Si" (click)="confirmGuardar.accept()"></button>
    <button type="button" pButton icon="fa-close" label="No" (click)="confirmGuardar.reject()"></button>
  </p-footer>
</p-confirmDialog>