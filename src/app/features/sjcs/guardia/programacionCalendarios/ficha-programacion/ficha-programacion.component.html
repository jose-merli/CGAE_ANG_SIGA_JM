<p-growl (onHover)="clear()" [(value)]="msgs" life="30000"></p-growl>
<div class="ficha-comunicacion-container" id="top">
  <div class="header-title">
    <i class="fa fa-square"></i>
    <p>{{'menu.justiciaGratuita' | translate}}
      <i class="fa fa-angle-right"></i>{{'menu.justiciaGratuita.GuardiaMenu' | translate }}
      <i class="fa fa-angle-right"></i>{{'menu.justiciaGratuita.guardia.calendarios'|translate}}
      <i class="fa fa-angle-right"></i>{{'justiciaGratuita.guardia.programacionCalendarios'|translate}}
    </p>
  </div>
  <div>
    <app-datos-generales-ficha-programacion (guardarDatosCalendario)="guardarDatosCalendario($event)" (reloadDatos)="reloadDatos($event)" (dataToDuplicate)="getdataToDuplicate($event)" [estado]="estado" [datosGeneralesIniciales] = "datosGeneralesIniciales" [datosGenerales] = "datosGenerales" [permisoEscritura]="permisoEscrituraDatosGenerales" [modoEdicion]="modoEdicion" (modoEdicionSend)="modoEdicionSend($event)"></app-datos-generales-ficha-programacion>

    <app-guardias-calendario-ficha-programacion *ngIf="dataReady"   (linkGuardiaColegiado2)="linkGuardiaColegiado2($event)" (disGen)="disGen($event)" [guardiaNew]="guardiaNew" (descargaLog)="descargarLog($event)" [estado]="estado" (searchGuardiasFromCal)="searchGuardiasFromCal($event)" [idCal]="dataToReceive.idCalendarioProgramado" (fillDatosTarjetaGuardiasCalendario)="fillDatosTarjetaGuardiasCalendario($event)" [duplicar]="duplicar" [openFicha]="openGen" (opened)="manuallyOpened = $event" (idOpened)="isCloseReceive($event)" [datosTarjetaGuardiasCalendarioIni] = "datosTarjetaGuardiasCalendarioIni"  [tarjetaDatosGenerales]="datosGenerales" [permisoEscritura]="permisoEscrituraDatosGenerales" [modoEdicion]="modoEdicion" (modoEdicionSend)="modoEdicionSend($event)" [datosGenerales]="datosGenerales" (guardarDatosCalendario)="guardarDatosCalendario($event)"></app-guardias-calendario-ficha-programacion>

    
  </div>
</div>
<div class="mt-3 text-right main-button " id="down">
 <!--<button (click)="generate()" [disabled]="disableGenerar" pButton type="button" icon="far fa-save" iconPos="left" label="{{ 'general.boton.generar' | translate}}"></button>-->
 <button (click)="generateModal()" [disabled]="disableGenerar" pButton type="button" icon="far fa-save" iconPos="left" label="Generar"></button>
  <button (click)="backTo()" pButton type="button" icon="fa fa-angle-left" iconPos="left" label="{{ 'general.boton.volver' | translate }}"></button>
</div>
<p-dialog  [(visible)]="displayProgramacion" responsive="true" [draggable]="false"
modal="modal" resizable="false"
>
<p-header class="title">
<label>{{"general.ventana.cgae" | translate}} -{{"censo.consultaHistorico.cabecera" | translate}}</label>
</p-header>
<div class="form-group col-lg-12 col-md-12">
  <label>
    {{"justiciaGratuita.Calendarios.FechaProgramada" | translate}}
  </label>
  <app-fecha  [(value)]="datosGenerales.fechaProgramacion" [showTime]="true"
  (valueChangeSelected)="fillFechaProgramada($event)" Â (valueChangeInput)="fillFechaProgramada($event)"></app-fecha>
</div>
<div class="text-right main-button">
<button (click)="generate()" [disabled]="disableGenerar" pButton type="button" icon="far fa-save" iconPos="left" label="Generar"></button>
<button (click)="cancelar()" pButton type="button" icon="fa fa-close " iconPos="left" label="{{'general.boton.cancel' | translate}}"></button>
</div>
</p-dialog>
<div *ngIf="progressSpinner" class="overlay-spinner">
  <div class="loader"></div>
</div>