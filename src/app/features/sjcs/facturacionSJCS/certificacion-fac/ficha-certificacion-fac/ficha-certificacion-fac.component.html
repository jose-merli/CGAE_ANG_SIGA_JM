<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<div id="fichaCertFac">

  <div>

    <div id="top"></div>

    <div class="datos-container">

      <div class="header-title">
        <i class="fa fa-square"></i>
        <p>SJCS &nbsp;<i class="fa fa-angle-right"></i>{{'menu.sjcs.facturacionSJCS.fichaCertificacion' |
          translate}}</p>
      </div>

      <div class="tarjetaFija">

        <div class="card">
          <div class="card-body p-0">
            <mat-accordion class="example-headers-align" multi>
              <mat-expansion-panel [disabled]="true">
                <mat-expansion-panel-header class="h-100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                  <app-tarjeta [image]="tarjetaFija.imagen" cardTitle="{{tarjetaFija.nombre | translate}}"
                    [campos]="tarjetaFija.campos" [icon]="tarjetaFija.icono" [enlaces]="tarjetaFija.enlaces"
                    [fixed]="tarjetaFija.fixed" class="w-100" (isOpen)="isOpenReceive($event)">
                  </app-tarjeta>
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                </ng-template>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
        </div>

      </div>

      <app-tarjeta-datos-generales-fiFac *ngIf="showCards" [certificacion]="certificacion" [modoEdicion]="modoEdicion"
        [estadosCertificacion]="estadosCertificacion" (guardarEvent)="guardarEvent($event)"
        (reabrirEvent)="reabrirEvent($event)" (cerrarEvent)="cerrarYenviar($event)" (descargarEvent)="descargar($event)"
        (restablecerEvent)="getCertificacion($event)" (getListaEstadosEvent)="getListaEstadosEvent($event)"
        (subirFicheroCAMEvent)="subirFicheroCAM($event)" (addEnlace)="addEnlace($event)" [esCAM]="esCAM"
        [esXunta]="esXunta">
      </app-tarjeta-datos-generales-fiFac>

      <app-tarjeta-facturacion *ngIf="showCards" [certificacion]="certificacion" [modoEdicion]="modoEdicion"
        (changeModoEdicion)="changeModoEdicion($event)" (saveFact)="saveFactCert($event)">
      </app-tarjeta-facturacion>

      <app-tarjeta-movimientos-varios-asociados *ngIf="showCards" [certificacion]="certificacion"
        [datos]="movimientosVariosAsoCerItemList" [modoEdicion]="modoEdicion" (addEnlace)="addEnlace($event)"
        (descargarLogRX)="descargarLogReintegrosXunta($event)" (enviarReintegrosEvent)="enviarReintegros($event)"
        (getMovimientosAsoEvent)="getMvariosAsociadosCertificacion($event)">
      </app-tarjeta-movimientos-varios-asociados>

      <app-tarjeta-movimientos-varios-aplicados *ngIf="showCards" [certificacion]="certificacion"
        [datos]="movimientosVariosApliCerItemList" [modoEdicion]="modoEdicion" (addEnlace)="addEnlace($event)"
        (getMovimientosApliEvent)="getMvariosAplicadosEnPagosEjecutadosPorPeriodo($event)">
      </app-tarjeta-movimientos-varios-aplicados>

      <div class="text-right main-button">
        <button (click)="volver()" pButton type="button" icon="fa fa-angle-left" iconPos="left"
          label="{{ 'general.boton.volver' | translate}}"></button>
      </div>
    </div>

    <div id="down"></div>

  </div>
</div>

<div *ngIf="progressSpinner" class="overlay-spinner">
  <div class="loader"></div>
</div>