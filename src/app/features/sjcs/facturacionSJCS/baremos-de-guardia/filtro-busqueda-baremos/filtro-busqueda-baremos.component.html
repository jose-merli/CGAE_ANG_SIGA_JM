<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<div *ngIf="progressSpinner" class="overlay-spinner">
  <div class="loader"></div>
</div>

<div class="card">

  <div class="card-body">

    <p (click)="onHideDatosGenerales()" class="title-module"> {{ 'general.message.datos.generales' | translate}}
      <i *ngIf="showDatosGenerales" class="fa fa-angle-up float-right"></i>
      <i *ngIf="!showDatosGenerales" class="fa fa-angle-down float-right"></i>
    </p>

    <div *ngIf="showDatosGenerales" class="module vista-simple">

      <div class="form-row">

        <div class="form-group-interlineado col-lg-3 col-md-3">
          <label>{{ 'facturacionSJCS.baremosDeGuardia.facturacion' | translate }}</label>
          <p-multiSelect #multiFacturacion class="select-form" [(ngModel)]='filtros.idFacturaciones'
            defaultLabel="{{'general.boton.seleccionar' | translate}}" [options]="comboFacturacion" [filter]="true"
            maxSelectedLabels="10" [selectedItemsLabel]="'{0} facturaciones seleccionadas'"
            filterBy="label,labelSinTilde" styleClass="widthAll" (onPanelShow)="focusInputField(multiFacturacion)">
          </p-multiSelect>
        </div>

        <div class="form-group-interlineado col-lg-3 col-md-3">
          <label>{{ 'facturacionSJCS.baremosDeGuardia.turno' | translate }}</label>
          <p-multiSelect #multiTurno class="select-form" [(ngModel)]='filtros.idTurnos'
            defaultLabel="{{'general.boton.seleccionar' | translate}}" [options]="comboTurno" [filter]="true"
            maxSelectedLabels="10" [selectedItemsLabel]="'{0} turnos seleccionados'" filterBy="label,labelSinTilde"
            styleClass="widthAll" (onPanelShow)="focusInputField(multiTurno)" (onChange)="onChangeTurno($event)">
          </p-multiSelect>
        </div>

        <div class="form-group-interlineado col-lg-3 col-md-3">
          <label>{{ 'facturacionSJCS.baremosDeGuardia.guardia' | translate }}</label>
          <p-multiSelect #multiGuardia class="select-form" [(ngModel)]='filtros.idGuardias'
            defaultLabel="{{'general.boton.seleccionar' | translate}}" [options]="comboGuardia" [filter]="true"
            maxSelectedLabels="10" [selectedItemsLabel]="'{0} guardias seleccionadas'" filterBy="label,labelSinTilde"
            styleClass="widthAll" (onPanelShow)="focusInputField(multiGuardia)" [disabled]="disabledComboGuardia()">
          </p-multiSelect>
        </div>

      </div>

    </div>

  </div>

  <div class="card-footer">
    <div class="text-right main-button">
      <button pButton type="button" icon="fa fa-eraser" iconPos="left" label="{{ 'general.boton.clear' | translate }}"
        (click)="limpiar()"></button>
      <button pButton type="button" icon="fa fa-search" iconPos="left" label="{{ 'general.boton.search' | translate }}"
        (click)="buscar()"></button>
      <button pButton type="button" icon="fa fa-plus" iconPos="left" label="{{ 'general.boton.new' | translate }}"
        [disabled]="!permisoEscritura" (click)="nuevo()"></button>
    </div>
  </div>

</div>