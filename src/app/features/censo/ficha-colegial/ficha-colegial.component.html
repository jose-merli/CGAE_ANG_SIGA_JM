<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>
<div *ngIf="emptyLoadFichaColegial || publicarDatosContacto || solicitudModificacionMens != undefined" class="info-limit d-flex justify-content-center align-items-center mb-1">
  <i class="fa fa-info-circle pr-2"></i>
  <div class="d-inline-block">
    <div>
      <span *ngIf="emptyLoadFichaColegial" class="pr-2 text-left">No se han podido cargar los datos porque el usuario desde el que ha inciado sesión no es colegiado</span>
      <span *ngIf="publicarDatosContacto" class="pr-2 text-left">{{"menu.fichaColegial.lopd.literal" | translate}}</span>
      <span *ngIf="solicitudModificacionMens != undefined" class="pr-2 text-left">{{solicitudModificacionMens}}</span>

    </div>
  </div>
</div>
<div class="busqueda-container">
  <div class="header-title">
    <i class="fa fa-square"></i>
    <p>
      {{ "menu.censo" | translate }}
      <i class="pl-1 fa fa-angle-right"></i>{{ "menu.censo.fichaColegial" | translate }}
    </p>
  </div>
  <!-- SERVICIOS INTERES -->
  <div *ngIf="activacionEditar">
    <div *ngIf="tarjetaInteres == '3' || tarjetaInteres == '2'" class="card">
      <div class="card-header header-ficha">
        <div class="form-row">
          <div class="col-lg-1 col-md-2">
            <div class="img-colegiado">
              <i class="fas fa-link icon-ficha"></i>
            </div>
          </div>
          <div class="col-lg-11 col-md-10">
            <div class="d-flex justify-content-start mb-1">
              <label class="mr-auto title-ficha">{{ "facturacion.tarjetas.literal.serviciosInteres" | translate }}
              </label>
            </div>
            <div class="d-flex justify-content-between">
              <label>
                <a (click)="irTurnoOficio()">
                  <span style="color: blue; text-decoration: underline">{{ "gratuita.personaJG.literal.masInfo" | translate }}
                  </span>
                </a>
              </label>
              <!-- <label>
                  <a (click)="irTurnoOficio()">
                    <span style="color: blue; text-decoration: underline">{{
                      "pestana.fichaCliente.datosSJCS" | translate
                    }}</span>
                  </a>
                </label>
                <label>
                  <a (click)="irFacturacion()">
                    <span style="color: blue; text-decoration: underline">{{
                      "menu.facturacion" | translate
                    }}</span>
                  </a>
                </label>
                <label>
                  <a (click)="irExpedientes()">
                    <span style="color: blue; text-decoration: underline">{{
                      "menu.expedientes" | translate
                    }}</span>
                  </a>
                </label>
                <label>
                  <a (click)="irAuditoria()">
                    <span style="color: blue; text-decoration: underline">{{
                      "menu.administracion.auditoria" | translate
                    }}</span>
                  </a>
                </label>
                <label>
                  <a (click)="irRegTel()">
                    <span style="color: blue; text-decoration: underline">{{
                      "censo.fichaCliente.regtel.cabecera" | translate
                    }}</span>
                  </a>
                </label>
                <label>
                  <a (click)="irComunicaciones()">
                    <span style="color: blue; text-decoration: underline">{{
                      "facturacion.consultamorosos.literal.comunicaciones"
                        | translate
                    }}</span>
                  </a>
                </label> -->
              <i class="float-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- FIN TARJETA SERVICIOS INTERES -->
  <!-- FICHA DATOS GENERALES -->
  <div *ngIf="tarjetaGenerales == '3' || tarjetaGenerales == '2'" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('generales')">
      <div *ngIf="!esFichaActiva('generales')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i *ngIf="!existeImagen" class="fa fa-user icon-ficha"></i>
            <img *ngIf="existeImagen" [src]="imagenPersona" class="icon-ficha" />
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "general.message.datos.generales" | translate }}
            </label>
            <!-- <label class="registros-ficha">(0 registros)</label> -->
          </div>
          <div class="d-flex justify-content-between">
            <label>{{ "censo.fichaCliente.literal.identificacion" | translate }}
              <span>{{ generalBody.nif }}</span>
            </label>
            <label>{{ "gratuita.mantenimientoTablasMaestra.literal.apellidos" | translate }}
              <span>{{ generalBody.apellidos1 }} {{ generalBody.apellidos2 }}</span>
            </label>
            <label>{{ "administracion.parametrosGenerales.literal.nombre" | translate }}
              <span>{{ generalBody.soloNombre }}</span>
            </label>
            <label>{{ "censo.consultaDatosColegiacion.literal.fechaNac" | translate }}
              <span>{{ generalBody.fechaNacimiento }}</span>
            </label>
            <i *ngIf="!esFichaActiva('generales')" class="fa fa-angle-down float-right"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('generales')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i *ngIf="!existeImagen" class="fa fa-user icon-ficha"></i>
          <img *ngIf="existeImagen" [src]="imagenPersona" class="icon-ficha" />
        </div>
        <label class="title-ficha">{{ "general.message.datos.generales" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>
    <div *ngIf="esFichaActiva('generales')" class="card-body card-body-ficha">
      <div class="row">
        <div class="bloque col-lg-2 col-md-3 col-sm-3 p-2">
          <div class="positionUpload img-colegiado text-center my-0 mx-auto">
            <img *ngIf="existeImagen" [src]="imagenPersona" class="imagenCentrada" />
            <i *ngIf="!existeImagen" class="fa fa-user" style="font-size:6.5rem;color:grey"></i>
            <p-fileUpload #fubauto chooseLabel="" class=" edit my-0 mx-auto main-button" [(disabled)]="(tarjetaGenerales == 2) || disabledAction"
              mode="basic" name="file" auto="true" accept="image/*" (onSelect)="uploadImage($event)" auto="true">
            </p-fileUpload>
          </div>
        </div>
        <div class="bloque col-lg-6 col-md-5 col-sm-5">
          <div class="form-row">
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.fichaCliente.literal.identificacion" | translate }} (*)
              </label>
              <input [(ngModel)]="generalBody.nif" type="text" [(disabled)]="(tarjetaGenerales == 2) || disabledNif || disabledAction"
                class="form-control" (ngModelChange)="compruebaDNI()" pInputText />
              <div *ngIf="identificacionValida == false">
                <label class="labelError">{{ "El documento es inválido" }}
                </label>
              </div>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.busquedaClientesAvanzada.literal.tipoCliente" | translate }} (*)
              </label>
              <p-dropdown class="select-form" [options]="tipoIdentificacion" disabled placeholder="{{'general.boton.seleccionar' | translate}}"
                [(ngModel)]="generalBody.idTipoIdentificacion" (onChange)="activacionGuardarGenerales()"></p-dropdown>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "administracion.parametrosGenerales.literal.nombre" | translate }} (*)
              </label>
              <input [(ngModel)]="generalBody.soloNombre" [(disabled)]="(tarjetaGenerales == 2) || disabledAction" type="text" class="form-control"
                (ngModelChange)="activacionGuardarGenerales()" [maxLength]="100" pInputText />
            </div>
            <div class="form-group col-lg-6 col-md-6 form-group-date">
              <label>{{ "censo.busquedaClientes.literal.apellido1" | translate }} (*)
              </label>
              <input [(ngModel)]="generalBody.apellidos1" type="text" [(disabled)]="(tarjetaGenerales == 2) || disabledAction" class="form-control"
                [maxLength]="100" (ngModelChange)="activacionGuardarGenerales()" pInputText />
            </div>
            <div class="form-group col-lg-6 col-md-6 form-group-date">
              <label>{{ "censo.busquedaClientes.literal.apellido2" | translate }}
              </label>
              <input [(ngModel)]="generalBody.apellidos2" [(disabled)]="(tarjetaGenerales == 2) || disabledAction" (ngModelChange)="activacionGuardarGenerales()"
                dateFormat="dd/mm/yy" [style]="{ position: 'relative', 'z-index': '1000' }" [maxLength]="100" type="text" class="form-control"
                pInputText />
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.busquedaClientesAvanzada.literal.sexo" | translate }}
              </label>
              <!--
                <input [(ngModel)]="generalBody.sexo" type="text" class="form-control" [maxLength]="99" pInputText>
              -->
              <p-dropdown class="select-form" [(ngModel)]="generalBody.sexo" [options]="comboSexo" [(disabled)]="(tarjetaGenerales == 2) || disabledAction"
                (onChange)="activacionGuardarGenerales()" [filter]="true" filterBy="label,labelSinTilde"></p-dropdown>
            </div>

            <!--
              <div class="form-group col-lg-6 col-md-6" [hidden]="esColegiado">
                <label>{{"censo.consultaDatosGenerales.literal.tratamiento" | translate}} (*)</label>

                <p-dropdown class="select-form" placeholder="{{'general.boton.seleccionar' | translate}}" [options]="generalTratamiento"
                  [(ngModel)]="generalBody.tratamiento" (ngModelChange)="activacionGuardarGenerales()"></p-dropdown>
              </div>
            -->

            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.consultaDatosColegiacion.literal.fechaNac" | translate }}
              </label>
              <p-calendar #calendarFechaNacimiento [monthNavigator]="true" [yearNavigator]="true" (onSelect)="onChangeCalendar($event); activacionGuardarGenerales()"
                (onInput)="inputFechaNacimiento($event)" [yearRange]="yearRange" [locale]="es" [(ngModel)]="fechaNacimiento"
                (onBlur)="blurFechaNacimiento($event)" [(disabled)]="isLetrado || disabledAction" dateFormat="dd/mm/yy" icon="far fa-calendar-alt"
                [utc]="false" showIcon="true">
                <p-footer>
                  <div class="main-button d-flex justify-content-end">
                    <button (click)="fechaHoyFechaNacimiento()" pButton type="button" label="{{'general.boton.hoy'| translate }}" class="mr-auto"></button>
                    <button (click)="borrarFechaNacimiento()" pButton type="button" label="{{'general.boton.borrar'| translate }}"></button>
                  </div>
                </p-footer>
              </p-calendar>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.consultaDatosGenerales.literal.edad" | translate }}
              </label>
              <input [(ngModel)]="edadCalculada" (ngModelChange)="activacionGuardarGenerales()" type="text" class="form-control" disabled
                pInputText />
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.consultaDatosGenerales.literal.tratamiento" | translate }} (*)
              </label>
              <p-dropdown class="select-form" placeholder="{{'general.boton.seleccionar' | translate}}" [options]="generalTratamiento"
                [(ngModel)]="generalBody.idTratamiento" [(disabled)]="(tarjetaGenerales == 2) || disabledAction" (onChange)="activacionGuardarGenerales()"></p-dropdown>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.consultaDatosGenerales.literal.nacido" | translate }}
              </label>
              <input [(ngModel)]="generalBody.naturalDe" (ngModelChange)="activacionGuardarGenerales()" [(disabled)]="(tarjetaGenerales == 2)  || disabledAction"
                type="text" [maxLength]="100" class="form-control" pInputText />
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label>{{ "censo.consultaDatosGenerales.literal.estadoCivil" | translate }}
              </label>
              <p-dropdown class="select-form" (onChange)="activacionGuardarGenerales()" placeholder="{{'general.boton.seleccionar' | translate}}"
                [(ngModel)]="generalBody.idEstadoCivil" [(disabled)]="(tarjetaGenerales == 2)  || disabledAction" [options]="generalEstadoCivil"></p-dropdown>
            </div>

            <div class="form-check col-lg-6 col-md-6">
              <br />
              <!-- <label class="form-group-label"
                >No publicar datos de contacto (antiguo LOPD)</label              > -->
              <span [ngStyle]="{'font-style': 'italic', 'font-weight':'bold'}">No publicar datos de contacto (antiguo LOPD)</span>

              &nbsp;&nbsp;
              <p-checkbox [(disabled)]="(tarjetaGenerales == 2)  || disabledAction" (onChange)="activacionGuardarGenerales()" [(ngModel)]="publicarDatosContacto"
                binary="true"></p-checkbox>
            </div>
            <div class="form-check col-lg-6 col-md-6">
              <br />
              <label class="form-group-label">{{ "menu.comisiones" | translate }}
              </label>
              &nbsp;&nbsp;
              <p-checkbox [(disabled)]="(tarjetaGenerales == 2)  || disabledAction" (onChange)="activacionGuardarGenerales()" [(ngModel)]="comisiones"
                binary="true"></p-checkbox>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <!--
                <label>{{"menu.administracion.gestionMultiidioma.etiquetasSociedad" | translate}}</label>
                <p-dropdown class="select-form" [(ngModel)]="generalBody.etiquetas" (onChange)="activacionGuardarGenerales()" placeholder="{{'general.boton.seleccionar' | translate}}"
                  [options]="comboIdentificacion"></p-dropdown>
              -->
              <label>{{ "menu.administracion.gestionMultiidioma.etiquetasSociedad" | translate }}
                <i class="fa fa-plus" style="color:grey" (click)="habilitarAutocompletar($event)"></i>
              </label>

              <br />
              <p-autoComplete #auto [(ngModel)]="etiquetasPersonaJuridicaSelecionados" [suggestions]="comboEtiquetas" (completeMethod)="filterLabelsMultiple($event)"
                [minLength]="1" field="label" [multiple]="true" (ngModelChange)="activacionGuardarGenerales()" (onKeyUp)="onKeyUp($event)"
                (onBlur)="onBlur($event)" (onSelect)="onSelect($event)" (onUnselect)="onUnselect($event)" [disabled]="(tarjetaGenerales == 2) || !autocompletar || disabledAction"
                [style]="{ width: '100%' }" [inputStyle]="{ width: '100%' }" (click)="disabledAutocomplete()">
                <ng-template let-etiquetasPersonaJuridicaSelecionados pTemplate="selectedItem">
                  <div *ngIf="
                      etiquetasPersonaJuridicaSelecionados.backgroundColor != ''
                    " class="ui-autocomplete-multiple-container ui-widget ui-inputtext ui-corner-all ng-star-inserted li"
                    [ngStyle]="{
                      background:
                        etiquetasPersonaJuridicaSelecionados.backgroundColor
                    }">
                    {{ etiquetasPersonaJuridicaSelecionados.label }}
                  </div>
                </ng-template>
              </p-autoComplete>
            </div>
          </div>
        </div>
        <!-- info adicional -->

        <div class="bloque col-lg-4 col-md-4">
          <div class="form-row">
            <!-- <div class="form-group col-lg-12 col-md-12" [hidden]="!esColegiado">
              <label>{{
                "censo.fichaCliente.situacion.cabecera" | translate
              }}</label>
              <p-dropdown
                class="select-form"
                [options]="comboSituacion"
                [(disabled)]="isLetrado || disabledAction"
                (onSelect)="activacionGuardarGenerales()"
                placeholder="{{'general.boton.seleccionar' | translate}}"
                [(ngModel)]="generalBody.situacion"
              ></p-dropdown>
            </div> -->
            <div class="form-group col-lg-12 col-md-12">
              <label>{{ "censo.fichaCliente.situacion.cabecera" | translate }}
              </label>
              <input type="text " class="form-control " disabled [(ngModel)]="situacionPersona" [maxLength]="19" pInputText />
            </div>
            <div class="form-group col-lg-12 col-md-12" [hidden]="!esColegiado">
              <label>{{ "administracion.usuarios.literal.fechaAlta" | translate }} (*)
              </label>
              <app-fecha [(value)]="fechaAlta" (valueChangeInput)="fillFechaAlta($event)" [disabled]="!esNewColegiado || isLetrado || disabledAction"
                (valueChangeSelected)="fillFechaAlta($event)" [utc]="false"></app-fecha>
            </div>
            <div class="form-group col-lg-12 col-md-12">
              <label>{{ "censo.fichaCliente.situacion.idiomaPref" | translate }} (*)
              </label>
              <p-dropdown class="select-form" [options]="generalIdiomas" [(disabled)]="(tarjetaGenerales == 2) || disabledAction" (onChange)="activacionGuardarGenerales()"
                placeholder="{{'general.boton.seleccionar' | translate}}" [(ngModel)]="generalBody.idLenguaje"></p-dropdown>
            </div>
            <div class="form-group col-lg-12 col-md-12">
              <label>{{ "censo.consultaDatosGenerales.literal.cuentaContable" | translate }}
              </label>
              <input type="text " class="form-control " [(disabled)]="(tarjetaGenerales == 2) || disabledAction" (ngModelChange)="activacionGuardarGenerales()"
                [(ngModel)]="generalBody.asientoContable" [maxLength]="19" pInputText />
            </div>
            <br />
            <div class="form-group col-lg-12 col-md-12" [hidden]="!esColegiado">
              <!-- <span> -->
              <!--
                <button pButton type="button" disabled [pTooltip]="partidoJudicial" tooltipPosition="top">Provincias</button>
              -->
              <!--
                <input type="text" disabled [pTooltip]="partidoJudicial" tooltipPosition="top" pInputText>
              -->
              <!-- </span> -->
              <div class="ayuda-btn">
                <label>{{ "menu.justiciaGratuita.maestros.partidosJudiciales" | translate }}
                </label>
                <i class="fa fa-question" [pTooltip]="partidoJudicial" tooltipPosition="bottom"></i>
              </div>
              &nbsp;&nbsp;
            </div>

            <div class="form-group col-lg-12 col-md-12">
              <div>
                <label>{{ 'form.busquedaCursos.literal.temas' | translate}}</label>
                <p-autoComplete #autocompleteTopics [(ngModel)]="resultsTopics" [suggestions]="suggestTopics" [minLength]="1" field="label"
                  [multiple]="true" [style]="{'width':'100%'}" (onFocus)="filterTopics($event)" (onBlur)="visiblePanelBlurTopics($event)"
                  [(disabled)]="(tarjetaGenerales == 2)  || disabledAction" (completeMethod)="filterLabelsMultipleTopics($event)"
                  [(ngModel)]="resultsTopics">
                  <ng-template let-topicsSelecionados pTemplate="selectedItem">
                    <div class="ui-autocomplete-multiple-container ui-widget ui-inputtext ui-corner-all ng-star-inserted li ui-state-highlight"
                      [ngStyle]="{'background': topicsSelecionados.color, 'margin': marginPx, 'border': bw }">
                      {{ topicsSelecionados.label }}
                    </div>
                  </ng-template>
                </p-autoComplete>
              </div>
            </div>

          </div>
        </div>
      </div>
      <br />
    </div>

    <div *ngIf="esFichaActiva('generales')" class="card-footer ">
      <div class="text-right main-button ">
        <button (click)="restablecerGenerales()" [disabled]="!activacionRestablecerGenerales() || tarjetaGenerales == '2' || disabledAction"
          pButton type="button" icon="fa fa-undo" iconPos="left" label="{{ 'general.boton.restablecer' | translate}}"></button>
        <button *ngIf="!isLetrado" (click)="generalesGuardar()" [disabled]="(tarjetaGenerales == 2) || disabledAction || !activacionGuardarGenerales()"
          pButton type="button" icon="far fa-save" iconPos="left" label="{{ 'general.boton.guardar' | translate}}"></button>
        <button *ngIf="isLetrado" (click)="comprobarAuditoria()" [(disabled)]="!activarGuardarGenerales || tarjetaGenerales == '2' || disabledAction"
          pButton type="button" icon="fa fa-save" iconPos="left" label="{{ 'general.boton.solicitarModificacion' | translate}}"></button>
        <!--
          <button *ngIf="isLetrado" (click)="comprobarAuditoria()" disabled pButton type="button" icon="fa fa-save" iconPos="left" label="{{ 'general.boton.guardar' | translate}}"></button>
        -->
      </div>
    </div>
  </div>

  <!-- END DATOS GENERALES -->

  <!-- FICHA DATOS COLEGIALES -->
  <div *ngIf="(tarjetaColegiales == '3' || tarjetaColegiales == '2') && esColegiado" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('colegiales')">
      <div *ngIf="!esFichaActiva('colegiales')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="far fa-address-book icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "censo.consultaDatosColegiales.literal.cabecera" | translate }}
            </label>
            <!-- <label class="registros-ficha">(0 registros)</label> -->
          </div>
          <div class="d-flex justify-content-between">
            <label>{{ "censo.busquedaClientesAvanzada.literal.nColegiado" | translate }}
              <span>{{ colegialesBody.numColegiado }}</span>
            </label>
            <label>{{ "censo.fusionDuplicados.colegiaciones.inscrito" | translate }}
              <span>{{ inscrito }}</span>
            </label>
            <label>{{ "censo.consultaDatosColegiales.literal.nMutualista" | translate }}
              <span>{{ colegialesBody.nMutualista }}</span>
            </label>
            <label>{{ "censo.consultaDatosGenerales.literal.fechaIncorporacion" | translate }}
              <span>{{ colegialesBody.incorporacion }}</span>
            </label>

            <label>{{ "censo.consultaDatosGenerales.literal.fechaPresentacion" | translate }}
              <span>{{ colegialesBody.fechapresentacion }}</span>
            </label>

            <label>{{ "censo.consultaDatosGenerales.literal.fechaJura" | translate }}
              <span>{{ colegialesBody.fechaJura }}</span>
            </label>

            <label>{{ "censo.consultaDatosColegiales.literal.fechaTitulacion" | translate }}
              <span>{{ colegialesBody.fechaTitulacion }}</span>
            </label>

            <i *ngIf="!esFichaActiva('colegiales')" class="fa fa-angle-down float-right"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('colegiales')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i class="far fa-address-book icon-ficha"></i>
        </div>
        <label class="title-ficha">{{ "censo.consultaDatosColegiales.literal.cabecera" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>
    <!-- cuerpo -->

    <div *ngIf="esFichaActiva('colegiales')" class="card-body card-body-ficha">
      <div class="row">
        <div class="bloque col-lg-12 col-md-12 col-sm-12">
          <div class="form-row">
            <!-- <div class="form-group col-lg-3 col-md-3" [hidden]="!esColegiado">
              <label>{{ "censo.fichaCliente.situacion.cabecera" | translate }} (*)</label>
              <p-dropdown class="select-form" [options]="comboSituacion" (onChange)="activacionGuardarColegiales()" [(disabled)]="tarjetaColegiales == '2' || disabledAction"
                placeholder="{{'general.boton.seleccionar' | translate}}" [(ngModel)]="colegialesBody.situacion"></p-dropdown>
            </div> -->
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.busquedaClientesAvanzada.literal.nColegiado" | translate }} (*)</label>
              <input [(ngModel)]="colegialesBody.numColegiado" [(disabled)]="tarjetaColegiales == '2' || disabledAction" (ngModelChange)="activacionGuardarColegiales()"
                type="text" class="form-control" pInputText />
              <div *ngIf="identificacionValida == false">
                <label class="labelError">{{ "El documento es inválido" }}
                </label>
              </div>
            </div>
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.consultaDatosGenerales.literal.seguro" | translate }}</label>
              <p-dropdown class="select-form" [(disabled)]="tarjetaColegiales == '2' || disabledAction" [(ngModel)]="colegialesBody.idTiposSeguro"
                placeholder="{{'general.boton.seleccionar' | translate}}" [options]="comboTipoSeguro"></p-dropdown>
            </div>
            <div class="form-group col-lg-3 col-md-3 form-group-date">
              <label>{{ "censo.consultaDatosColegiales.literal.nMutualista" | translate }}
              </label>
              <input [(ngModel)]="colegialesBody.nMutualista" type="text" class="form-control" [(disabled)]="tarjetaColegiales == '2' || disabledAction"
                (ngModelChange)="activacionGuardarColegiales()" [maxLength]="100" pInputText />
              <div *ngIf="!numMutualistaCheck()">
                <label class="labelError">{{ "censo.ws.literal.soloNumeros" | translate }}
                </label>
              </div>
            </div>
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.fusionDuplicados.colegiaciones.inscrito" | translate }} (*)</label>
              <!--
                <input [(ngModel)]="colegialesBody.residenteInscrito" type="text"  (ngModelChange)="activacionGuardarColegiales()" class="form-control" [maxLength]="100" pInputText>
              -->
              <p-dropdown class="select-form" (onChange)="activacionGuardarColegiales()" (ngModelChange)="getInscrito()" [(disabled)]="tarjetaColegiales == '2' || disabledAction"
                [(ngModel)]="inscritoSeleccionado" placeholder="{{'general.boton.seleccionar' | translate}}" [options]="comboInscrito"></p-dropdown>
            </div>
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.consultaDatosGenerales.literal.fechaIncorporacion" | translate }} (*)</label>
              <p-calendar [monthNavigator]="true" #calendarFechaIncorporacion [yearNavigator]="true" [yearRange]="yearRange" [locale]="es"
                [(disabled)]="isLetrado || disabledAction" (onSelect)="activacionGuardarColegiales(); fechaIncorporacionSelected=true"
                (onInput)="inputFechaIncorporacion($event)" (onBlur)="blurFechaIncorporacion($event)" [(ngModel)]="colegialesBody.incorporacion"
                dateFormat="dd/mm/yy" icon="far fa-calendar-alt" showIcon="true" [utc]="false">
                <p-footer>
                  <div class="main-button d-flex justify-content-end">
                    <button (click)="fechaHoyFechaIncorporacion()" pButton type="button" label="{{'general.boton.hoy'| translate }}" class="mr-auto"></button>
                    <button (click)="borrarFechaIncorporacion()" pButton type="button" label="{{'general.boton.borrar'| translate }}"></button>
                  </div>
                </p-footer>
              </p-calendar>
            </div>
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.consultaDatosGenerales.literal.fechaPresentacion" | translate }} (*)</label>
              <p-calendar [monthNavigator]="true" #calendarFechaPresentacion [yearNavigator]="true" [yearRange]="yearRange" [locale]="es"
                (onSelect)="activacionGuardarColegiales(); fechaPresentacionSelected=true" (onInput)="inputFechaPresentacion($event)"
                (onBlur)="blurFechaPresentacion($event)" [(disabled)]="isLetrado || disabledAction" [(ngModel)]="colegialesBody.fechapresentacion"
                dateFormat="dd/mm/yy" icon="far fa-calendar-alt" showIcon="true" [utc]="false">
                <p-footer>
                  <div class="main-button d-flex justify-content-end">
                    <button (click)="fechaHoyFechaPresentacion()" pButton type="button" label="{{'general.boton.hoy'| translate }}" class="mr-auto"></button>
                    <button (click)="borrarFechaPresentacion()" pButton type="button" label="{{'general.boton.borrar'| translate }}"></button>
                  </div>
                </p-footer>
              </p-calendar>
            </div>
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.consultaDatosGenerales.literal.fechaJura" | translate }} (*)</label>
              <p-calendar [monthNavigator]="true" #calendarFechaJura [yearNavigator]="true" [yearRange]="yearRange" [locale]="es" [(disabled)]="isLetrado || disabledAction"
                (onSelect)="activacionGuardarColegiales(); fechaJuraSelected=true" (onInput)="inputFechaJura($event)" (onBlur)="blurFechaJura($event)"
                [(ngModel)]="colegialesBody.fechaJura" dateFormat="dd/mm/yy" icon="far fa-calendar-alt" showIcon="true" [utc]="false">
                <p-footer>
                  <div class="main-button d-flex justify-content-end">
                    <button (click)="fechaHoyFechaJura()" pButton type="button" label="{{'general.boton.hoy'| translate }}" class="mr-auto"></button>
                    <button (click)="borrarFechaJura()" pButton type="button" label="{{'general.boton.borrar'| translate }}"></button>
                  </div>
                </p-footer>
              </p-calendar>
            </div>
            <div class="form-group col-lg-3 col-md-3">
              <label>{{ "censo.consultaDatosColegiales.literal.fechaTitulacion" | translate }}
              </label>
              <p-calendar [monthNavigator]="true" #calendarFechaTitulacion [yearNavigator]="true" [yearRange]="yearRange" [locale]="es"
                [(disabled)]="isLetrado || disabledAction" (onSelect)="activacionGuardarColegiales(); fechaTitulacionSelected=true"
                (onInput)="inputFechaTitulacion($event)" (onBlur)="blurFechaTitulacion($event)" [(ngModel)]="colegialesBody.fechaTitulacion"
                dateFormat="dd/mm/yy" icon="far fa-calendar-alt" showIcon="true" [utc]="false">
                <p-footer>
                  <div class="main-button d-flex justify-content-end">
                    <button (click)="fechaHoyFechaTitulacion()" pButton type="button" label="{{'general.boton.hoy'| translate }}" class="mr-auto"></button>
                    <button (click)="borrarFechaTitulacion()" pButton type="button" label="{{'general.boton.borrar'| translate }}"></button>
                  </div>
                </p-footer>
              </p-calendar>
            </div>
          </div>
        </div>
      </div>
      <br />

      <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" (onRowSelect)="onRowSelectColegiales(selectedDatos)"
        [(selection)]="selectedDatos" pageLinks="4" [responsive]="true" #tableColegiales class="tabla-listado" [ngClass]="{'customCursor': selectMultiple}"
        [value]="datosColegiales" [sortOrder]="1" [paginator]="activarPaginacionColegial()" paginatorPosition="both" [rows]="selectedItem"
        rowHover="true" selectionMode="single" editable="true" [sortField]="sortF" (onSort)="changeSortColegiales($event)">
        <!-- <p-column *ngFor="let col of colsColegiales" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}">
          <ng-template let-datoH="rowData" pTemplate="body">
            <span *ngIf="setItalic(datoH)" [ngStyle]="{
                'font-style': 'italic',
                'font-weight': 'bold',
                'text-decoration': 'line-through'
              }">{{ datoH[col.field] }}</span>
            <span *ngIf="!setItalic(datoH)">{{ datoH[col.field] }}</span>
          </ng-template>

          <ng-template *ngIf="col.field == 'fechaEstado'" let-dato="rowData" pTemplate="body">
            <label>{{ dato.fechaEstado | date: 'dd/MM/yyyy'}}</label>
          </ng-template>
        </p-column> -->

        <p-column field="fechaEstadoStr" #fechaEstadoColegiales filterPlaceholder="{{'general.boton.search' | translate}}" [header]="colsColegiales[0].header | translate"
          [filter]="true" filterMatchMode="contains">
          <ng-template let-col let-car="rowData" pTemplate="body" let-rowIndex="rowIndex">
            <span *ngIf="filaEditable && datosColegiales[rowIndex].isMod == true && isCrearColegial">{{car[col.field]}}</span>
            <span *ngIf="(!filaEditable || (filaEditable && datosColegiales[rowIndex].isMod == false)) && car[col.field].length > 9">{{car[col.field]}}</span>
            <span *ngIf="(!filaEditable || (filaEditable && datosColegiales[rowIndex].isMod == false)) && car[col.field].length == undefined">{{car[col.field] | date: 'dd/MM/yyyy'}}</span>
            <app-fecha *ngIf="isCrearColegial && (car[col.field] == undefined || car[col.field] == '') " [(value)]="nuevoEstadoColegial.fechaEstadoStr"
              [minDate]="fechaMinimaEstadoColegial" (valueChangeSelected)="onChangeCalendarTable($event, datosColegiales[rowIndex])"
              (valueChangeInput)="onChangeCalendarTable($event, datosColegiales[rowIndex])"></app-fecha>
            <app-fecha *ngIf="datosColegiales[rowIndex].isMod != undefined && datosColegiales[rowIndex].isMod == true && !isCrearColegial && filaEditable"
              [(value)]="car[col.field]" [minDate]="fechaMinimaEstadoColegialMod" (valueChangeSelected)="onChangeCalendarTable($event, datosColegiales[rowIndex])"
              (valueChangeInput)="onChangeCalendarTable($event, datosColegiales[rowIndex])"></app-fecha>
          </ng-template>

        </p-column>

        <p-column field="estadoColegial" [header]="colsColegiales[1].header | translate" [filter]="true" filterPlaceholder="{{'general.boton.search' | translate}}"
          filterMatchMode="contains">
          <ng-template let-col let-car="rowData" pTemplate="body" let-rowIndex="rowIndex">
            <span *ngIf="filaEditable && datosColegiales[rowIndex].isMod == true && isCrearColegial">{{car[col.field]}}</span>
            <span *ngIf="(!filaEditable || (filaEditable && datosColegiales[rowIndex].isMod == false)) ">{{car[col.field]}}</span>
            <p-dropdown *ngIf="isCrearColegial && (car[col.field] == undefined || car[col.field] == '') " [(ngModel)]="nuevoEstadoColegial.situacion"
              [options]="comboSituacion" (onChange)="onChangeDropEstadoColegial($event, datosColegiales[rowIndex])" placeholder="{{'general.boton.seleccionar' | translate}}"></p-dropdown>
            <p-dropdown *ngIf="datosColegiales[rowIndex].isMod != undefined && datosColegiales[rowIndex].isMod == true && !isCrearColegial && filaEditable"
              [(ngModel)]="datosColegiales[rowIndex].idEstado" [options]="comboSituacion" (onChange)="onChangeDropEstadoColegial($event, datosColegiales[rowIndex])"
              placeholder="{{'general.boton.seleccionar' | translate}}"></p-dropdown>
          </ng-template>
        </p-column>

        <p-column field="situacionResidente" [header]="colsColegiales[2].header | translate" [filter]="true" filterPlaceholder="{{'general.boton.search' | translate}}"
          filterMatchMode="contains">
          <ng-template let-col let-car="rowData" pTemplate="body" let-rowIndex="rowIndex">
            <span *ngIf="filaEditable && datosColegiales[rowIndex].isMod == true && isCrearColegial">{{car[col.field]}}</span>
            <span *ngIf="(!filaEditable || (filaEditable && datosColegiales[rowIndex].isMod == false)) ">{{car[col.field]}}</span>
            <p-dropdown *ngIf="isCrearColegial && (car[col.field] == undefined || car[col.field] == '') " [(ngModel)]="nuevoEstadoColegial.situacionResidente"
              [options]="comboResidente" (onChange)="onChangeDropResidenteColegial($event, datosColegiales[rowIndex])" placeholder="{{'general.boton.seleccionar' | translate}}"></p-dropdown>
            <p-dropdown *ngIf="datosColegiales[rowIndex].isMod != undefined && datosColegiales[rowIndex].isMod == true && !isCrearColegial && filaEditable"
              [(ngModel)]="datosColegiales[rowIndex].idSituacionResidente" [options]="comboResidente" (onChange)="onChangeDropResidenteColegial($event, datosColegiales[rowIndex])"
              placeholder="{{'general.boton.seleccionar' | translate}}"></p-dropdown>
          </ng-template>
        </p-column>

        <p-column editable="true" field="observaciones" [header]="colsColegiales[3].header | translate" [filter]="true" filterPlaceholder="{{'general.boton.search' | translate}}"
          filterMatchMode="contains">
          <ng-template let-col let-car="rowData" pTemplate="body" let-rowIndex="rowIndex">
            <span *ngIf="filaEditable && datosColegiales[rowIndex].isMod == true && isCrearColegial">{{car[col.field]}}</span>
            <span *ngIf="(!filaEditable || (filaEditable && datosColegiales[rowIndex].isMod == false)) && !datosColegiales[rowIndex].habilitarObs">{{car[col.field]}}</span>
            <input *ngIf="datosColegiales[rowIndex].nuevoRegistro" [(ngModel)]="nuevoEstadoColegial.observaciones" type="text" (input)="isRestablecer = true"
              pInputText />
            <input *ngIf="datosColegiales[rowIndex].habilitarObs || (datosColegiales[rowIndex].isMod != undefined && datosColegiales[rowIndex].isMod == true && !isCrearColegial && filaEditable)"
              [(ngModel)]="car[col.field]" type="text" (input)="isRestablecer = true" pInputText />
          </ng-template>
        </p-column>

        <ng-template pTemplate="paginatorLeft">
          <div class="mostrar d-flex text-right justify-content-end">
            <label class="pr-3 registros-totales">Mostrando registros del {{ tableColegiales.first + 1 }} al {{ tableColegiales.first + tableColegiales.rows }}
              de un total de {{ tableColegiales.totalRecords }}</label>
            <!--
              <label class="pr-3 numSeleccionados">Seleccionados: {{numSelected}}</label>
            -->
          </div>
        </ng-template>
      </p-dataTable>
    </div>

    <div *ngIf="esFichaActiva('colegiales')" class="card-footer ">
      <div class="text-right main-button ">
        <button [disabled]="!activarRestablecerColegiales() || !isRestablecer || disabledAction || tarjetaColegiales=='2'" (click)="restablecerColegiales()"
          pButton type="button" icon="fa fa-undo" iconPos="left" label="{{ 'general.boton.restablecer' | translate}}"></button>
        <button (click)="eliminarEstadoColegial(selectedDatos)" [disabled]="!isEliminarEstadoColegial || disabledAction || tarjetaColegiales=='2'"
          pButton type="button" icon="fa fa-plus" iconPos="left" label="{{ 'general.boton.eliminar' | translate}}"></button>
        <button (click)="guardarColegiales()" [disabled]="!activarGuardarColegiales || disabledAction || tarjetaColegiales=='2'"
          pButton type="button" icon="far fa-save" iconPos="left" label="{{ 'general.boton.guardar' | translate}}"></button>
        <button (click)="nuevoColegial()" [disabled]="isCrearColegial || disabledAction || tarjetaColegiales=='2'" pButton type="button"
          icon="fa fa-plus" iconPos="left" label="{{ 'general.boton.new' | translate}}"></button>
      </div>
    </div>
  </div>
  <!-- END DATOS COLEGIALES -->

  <!-- FICHA OTRAS COLEGIACIONES -->
  <div *ngIf="(tarjetaOtrasColegiaciones == '3' || tarjetaOtrasColegiaciones == '2') && esColegiado" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('colegiaciones')">
      <div *ngIf="!esFichaActiva('colegiaciones')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fa fa-graduation-cap icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "censo.consultaDatosColegiacion.literal.otrasColegiaciones" | translate }}
            </label>
            <!-- <label class="registros-ficha">(0 registros)</label> -->
          </div>
          <div class="d-flex justify-content-between">
            <label class="registros-ficha">{{ "censo.datosDireccion.literal.numero.colegiaciones" | translate }}
              <span>{{ datosColegiaciones.length }}</span>
            </label>
            <i *ngIf="!esFichaActiva('colegiaciones')" class="fa fa-angle-down float-right"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('colegiaciones')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i class="fa fa-graduation-cap icon-ficha"></i>
        </div>
        <label class="title-ficha">{{ "censo.consultaDatosColegiacion.literal.otrasColegiaciones" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>
    <!-- cuerpo -->

    <div *ngIf="esFichaActiva('colegiaciones')" class="card-body card-body-ficha">
      <div class="row">
        <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" pageLinks="4" dataKey="movil" [responsive]="true"
          #tableColegiaciones class="tabla-listado" [value]="datosColegiaciones" [sortOrder]="1" [paginator]="activarPaginacionOtrasColegiaciones()"
          paginatorPosition="both" [rows]="selectedItemColegiaciones">
          <p-column *ngFor="let col of colsColegiaciones" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
            [filter]="true" filterMatchMode="contains">
            <ng-template let-datoH="rowData" pTemplate="body">
              <span *ngIf="setItalic(datoH)" [ngStyle]="{
                  'font-style': 'italic',
                  'font-weight': 'bold',
                  'text-decoration': 'line-through'
                }">{{ datoH[col.field] }}</span>
              <span *ngIf="!setItalic(datoH)">{{ datoH[col.field] }}</span>
            </ng-template>
          </p-column>

          <ng-template pTemplate="paginatorLeft">
            <div class="mostrar d-flex text-right justify-content-end">
              <label class="pr-3 registros-totales">Mostrando registros del {{ tableColegiaciones.first + 1 }} al {{ tableColegiaciones.first + tableColegiaciones.rows
                }} de un total de {{ tableColegiaciones.totalRecords }}
              </label>
              <!--
                <label class="pr-3 numSeleccionados">Seleccionados: {{numSelected}}</label>
              -->
              <label>{{ "general.message.mostrar" | translate }}</label>
              <p-dropdown [(ngModel)]="selectedItemColegiaciones" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesColegiaciones($event)"></p-dropdown>
              <label class="pl-1">
                {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
              </label>
            </div>
          </ng-template>
        </p-dataTable>
      </div>
      <br />
    </div>

    <div *ngIf="esFichaActiva('colegiaciones')" class="card-footer "></div>
  </div>

  <!-- END FICHA OTRAS COLEGIACIONES -->

  <!-- FICHA CERTIFICADOS -->
  <div *ngIf="tarjetaCertificados == '3' || tarjetaCertificados == '2'" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('certificados')">
      <div *ngIf="!esFichaActiva('certificados')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fa fa-certificate icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "menu.certificados" | translate }}
            </label>
            <!-- <label class="registros-ficha">(0 registros)</label> -->
          </div>
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <label>{{ "censo.datosDireccion.literal.numero.certificados" | translate }}
                <span>{{ datosCertificados.length }}</span>
              </label>
            </div>
            <i *ngIf="!esFichaActiva('certificados')" class="fa fa-angle-down float-right"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('certificados')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i class="fa fa-certificate icon-ficha"></i>
        </div>
        <label class="title-ficha">{{ "menu.certificados" | translate }}</label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>
    <!-- cuerpo -->

    <div *ngIf="esFichaActiva('certificados')" class="card-body card-body-ficha">
      <div class="row">
        <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" [(selection)]="selectedDatosCertificados" pageLinks="4"
          dataKey="idSolicitud" [responsive]="true" selectionMode="multiple" #tableCertificados class="tabla-listado" [value]="datosCertificados"
          [sortOrder]="1" [paginator]="activarPaginacionCertificados()" paginatorPosition="both" [rows]="selectedItemCertificados">
          <p-column *ngFor="let col of colsCertificados" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
            [filter]="true" filterMatchMode="contains">
            <ng-template let-datoH="rowData" pTemplate="body">
              <span *ngIf="setItalic(datoH)" [ngStyle]="{
                  'font-style': 'italic',
                  'font-weight': 'bold',
                  'text-decoration': 'line-through'
                }">{{ datoH[col.field] }}</span>
              <span *ngIf="!setItalic(datoH)">{{ datoH[col.field] }}</span>
            </ng-template>
          </p-column>

          <ng-template pTemplate="paginatorLeft">
            <div class="mostrar d-flex text-right justify-content-end">
              <label class="pr-3 registros-totales">Mostrando registros del {{ tableCertificados.first + 1 }} al {{ tableCertificados.first + tableCertificados.rows
                }} de un total de {{ tableCertificados.totalRecords }}</label>
              <!--
                <label class="pr-3 numSeleccionados">Seleccionados: {{numSelected}}</label>
              -->
              <label>{{ "general.message.mostrar" | translate }}</label>
              <p-dropdown [(ngModel)]="selectedItemCertificados" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesCertificados($event)"></p-dropdown>
              <label class="pl-1">
                {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
              </label>
            </div>
          </ng-template>
        </p-dataTable>
      </div>
      <br />
    </div>
    <div *ngIf="esFichaActiva('certificados')" class="card-footer "></div>
  </div>


  <!-- END FICHA CERTIFICADOS -->

  <!-- FICHA SANCIONES -->
  <div *ngIf="!esNewColegiado">
    <div *ngIf="tarjetaSanciones == '3' || tarjetaSanciones == '2'" class="card">
      <div class="card-header header-ficha" (click)="abreCierraFicha('sanciones')">
        <div *ngIf="!esFichaActiva('sanciones')" class="form-row">
          <div class="col-lg-1 col-md-2">
            <div class="img-colegiado">
              <i class="fa fa-gavel icon-ficha"></i>
            </div>
          </div>
          <div class="col-lg-11 col-md-10">
            <div class="d-flex justify-content-start mb-1">
              <label class="mr-auto title-ficha">{{ "censo.consultaDatosColegiacion.literal.sancionesLetrado" | translate }}
              </label>
              <!-- <label class="registros-ficha">(0 registros)</label> -->
            </div>
            <div class="d-flex justify-content-between">
              <div class="d-flex justify-content-between">
                <label>{{ "censo.consultaDatosColegiacion.literal.numSanciones" | translate }}
                  <span>{{ bodySearchSanciones.busquedaSancionesItem.length }}</span>
                </label>
              </div>
              <i *ngIf="!esFichaActiva('sanciones')" class="fa fa-angle-down float-right"></i>
            </div>
          </div>
        </div>
        <div *ngIf="esFichaActiva('sanciones')" class=" header-ficha-open d-flex justify-content-start align-items-center">
          <div class="img-colegiado">
            <i class="fa fa-gavel icon-ficha"></i>
          </div>
          <label class="title-ficha">{{ "censo.consultaDatosColegiacion.literal.sancionesLetrado" | translate }}</label>
          <i class="fa fa-angle-up ml-auto"></i>
        </div>
      </div>
      <!-- cuerpo -->

      <div *ngIf="esFichaActiva('sanciones')" class="card-body card-body-ficha">
        <div class="row">
          <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" [ngClass]="{'customCursor': selectMultiple}"
            [(selection)]="selectedDatosSanciones" (onRowSelect)="onRowSelectSanciones(selectedDatosSanciones)" pageLinks="4"
            [responsive]="true" selectionMode="single" #tableSanciones class="tabla-listado" [value]="dataSanciones" [sortOrder]="sortO"
            [paginator]="enablePagination()" paginatorPosition="both" [rows]="selectedItemSanciones">
            <p-column *ngFor="let col of colsSanciones" [sortable]="true " [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
              [filter]="true" filterMatchMode="contains">
            </p-column>

            <ng-template pTemplate="paginatorLeft">
              <div class="mostrar d-flex text-right justify-content-end">
                <label class="pr-3 registros-totales">Mostrando registros del {{tableSanciones.first + 1}} al {{tableSanciones.first + tableSanciones.rows}} de
                  un total de {{tableSanciones.totalRecords}}
                </label>
                <label>{{ "general.message.mostrar" | translate}}</label>
                <p-dropdown [(ngModel)]="selectedItemSanciones" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesSanciones($event)"></p-dropdown>
                <label class="pl-1">{{"cargaMasivaDatosCurriculares.numRegistros.literal" | translate}}</label>
              </div>
            </ng-template>



          </p-dataTable>

        </div>
        <br />
      </div>
      <div *ngIf="esFichaActiva('sanciones')" class="card-footer "></div>
    </div>
  </div>


  <!-- END FICHA SANCIONES -->
  <!-- FICHA SOCIEDADES -->
  <div *ngIf="tarjetaSociedades == '3' || tarjetaSociedades == '2'" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('sociedades')">
      <div *ngIf="!esFichaActiva('sociedades')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fa fa-briefcase icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "censo.fichaColegial.titulo" | translate }}
            </label>
            <!-- <label class="registros-ficha">(0 registros)</label> -->
          </div>
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <label>{{ "censo.datosDireccion.literal.numero.sociedades" | translate }}
                <span>{{ sociedadesBody.busquedaJuridicaItems.length }}</span>
              </label>
            </div>
            <i *ngIf="!esFichaActiva('sociedades')" class="fa fa-angle-down float-right"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('sociedades')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i class="fa fa-briefcase icon-ficha"></i>
        </div>
        <label class="title-ficha">{{ "censo.fichaColegial.titulo" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>
    <div *ngIf="esFichaActiva('sociedades')" class="card-body card-body-ficha">
      <div class="row">
        <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" [(selection)]="selectedDatosSociedades" pageLinks="4"
          dataKey="idDireccion" [responsive]="true" selectionMode="multiple" #tableSociedades class="tabla-listado" [value]="datosSociedades"
          [sortOrder]="1" [paginator]="activarPaginacionSociedades()" paginatorPosition="both" [rows]="selectedItemSociedades"
          (onRowSelect)="redireccionarSociedades(selectedDatosSociedades)">
          <p-column *ngFor="let col of colsSociedades" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
            [filter]="true" filterMatchMode="contains">
          </p-column>

          <ng-template pTemplate="paginatorLeft">
            <div class="mostrar d-flex text-right justify-content-end">
              <label class="pr-3 registros-totales">Mostrando registros del {{ tableSociedades.first + 1 }} al {{ tableSociedades.first + tableSociedades.rows
                }} de un total de {{ tableSociedades.totalRecords }}</label>
              <label>{{ "general.message.mostrar" | translate }}</label>
              <p-dropdown [(ngModel)]="selectedItemSociedades" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesSociedades($event)"></p-dropdown>
              <label class="pl-1">
                {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
              </label>
            </div>
          </ng-template>
        </p-dataTable>
      </div>
      <br />
    </div>
    <div *ngIf="esFichaActiva('sociedades')" class="card-footer">
      <div class="text-right main-button "></div>
    </div>
  </div>
  <!-- END FICHA SOCIEDADES -->

  <!-- FICHA DATOS CURRICULARES -->
  <div *ngIf="tarjetaCurriculares == '3' || tarjetaCurriculares == '2'" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('curriculares')">
      <div *ngIf="!esFichaActiva('curriculares')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fa fa-paperclip icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "censo.consultaDatosCV.cabecera" | translate }}
            </label>
            <!-- <label class="registros-ficha">(0 registros)</label> -->
          </div>
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <label>{{ "censo.datosDireccion.literal.numero.curriculares" | translate }}
                <span>{{ datosCurriculares.length }}</span>
              </label>
            </div>
            <i *ngIf="!esFichaActiva('curriculares')" class="fa fa-angle-down float-right"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('curriculares')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i class="fa fa-paperclip icon-ficha"></i>
        </div>
        <label class="title-ficha">{{ "censo.consultaDatosCV.cabecera" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>
    <!-- cuerpo -->

    <div *ngIf="esFichaActiva('curriculares')" class="card-body card-body-ficha">
      <div class="row">
        <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" [(selection)]="selectedDatosCurriculares" pageLinks="4"
          [sortField]="sortF" [sortOrder]="sortO" (onSort)="changeSort($event)" [responsive]="true" [ngClass]="{ customCursor: selectMultipleCurriculares }"
          selectionMode="multiple" #tableCurriculares class="tabla-listado" [value]="datosCurriculares" [sortOrder]="1" [paginator]="activarPaginacionCurriculares()"
          paginatorPosition="both" [rows]="selectedItemCurriculares" (onRowSelect)="redireccionarCurriculares(selectedDatosCurriculares)"
          (onRowUnselect)="
            actualizaSeleccionadosCurriculares(selectedDatosCurriculares)
          ">
          <p-column *ngFor="let col of colsCurriculares" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
            [filter]="true" filterMatchMode="contains">
            <ng-template let-datoH="rowData" pTemplate="body">
              <div *ngIf="setItalic(datoH)">
                <span [ngStyle]="{'font-style': 'italic', 'font-weight':'bold', 'text-decoration':'line-through'}">{{datoH[col.field]}}</span>
              </div>
              <div *ngIf="!setItalic(datoH)">
                <span>{{datoH[col.field]}}</span>
              </div>
            </ng-template>
          </p-column>

          <ng-template pTemplate="paginatorLeft">
            <div class="mostrar d-flex text-right justify-content-end">
              <label class="pr-3 registros-totales">Mostrando registros del {{ tableCurriculares.first + 1 }} al {{ tableCurriculares.first + tableCurriculares.rows
                }} de un total de {{ tableCurriculares.totalRecords }}</label>

              <label class="pr-3 numSeleccionados">Seleccionados: {{numSelectedCurriculares}}</label>

              <label>{{ "general.message.mostrar" | translate }}</label>
              <p-dropdown [(ngModel)]="selectedItemCurriculares" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesCurriculares($event)"></p-dropdown>
              <label class="pl-1">
                {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
              </label>
              <div class="ml-3 selectAll">
                <p-checkbox (onChange)="onChangeSelectAllCurriculares()" [(ngModel)]="selectAllCurriculares" binary="true" label="Seleccionar todo"
                  name="groupname"></p-checkbox>
              </div>

              <label class="ml-3 seleccionMultiple" [ngClass]="{' seleccion-multiple': selectMultipleCurriculares}" (click)="isSelectMultipleCurriculares()">
                <i class="pr-2 fa fa-mouse-pointer"></i>{{ "general.message.seleccion.multiple" | translate}}</label>

            </div>
          </ng-template>
        </p-dataTable>
      </div>
      <br />
    </div>

    <div *ngIf="esFichaActiva('curriculares')"  class="card-footer">
      <div class="text-right main-button ">
        <!--
    <button (click)="restablecer()" pButton type="button" icon="fa fa-undo" iconPos="left" label="{{ 'general.boton.restablecer' | translate}}"></button>
    -->
        <button (click)="cargarDatosCV()"  *ngIf="historicoCV"  pButton type="button" icon="fa fa-undo"  iconPos="left"  label="{{ 'general.message.ocultarHistorico' | translate}}"></button>
        <button (click)="cargarHistorico()"  *ngIf="!historicoCV"  pButton type="button"  icon="fa fa-history"  iconPos="left"  label="{{'general.message.mostrarHistorico' | translate}}"></button>
        <button  (click)="deleteCurriculares(selectedDatosCurriculares)" pButton type="button" [(disabled)]="!(selectedDatosCurriculares && selectedDatosCurriculares != '') || tarjetaCurriculares == '2' || disabledAction"
          icon="fa fa-trash-alt " iconPos="left" label="{{'general.boton.eliminar' | translate}}"></button>
        <button (click)="irNuevoCurriculares()" pButton type="button" [(disabled)]="tarjetaCurriculares == '2' || disabledAction"
          icon="fa fa-plus" iconPos="left" label="{{ 'general.boton.new' | translate}}"></button>
      </div>
    </div>
  </div>

  <!-- END FICHA DATOS CURRICULARES -->

  <!-- INICIO FICHA DATOS DIRECCIONES -->
  <div *ngIf="tarjetaDirecciones == '3' || tarjetaDirecciones == '2'" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('direcciones')">
      <div *ngIf="!esFichaActiva('direcciones')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fa fa-map-marker icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "censo.fichaCliente.datosDirecciones.cabecera" | translate }}
            </label>
          </div>
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <div class="d-flex justify-content-between">
                <label>{{ "censo.datosDireccion.literal.numero.direccion" | translate }}
                  <span>{{ searchDireccionIdPersona.datosDireccionesItem.length }}
                  </span>
                </label>
              </div>
              <br />
              <!--
                <i [ngClass]="{ 'fa fa-angle-up': esFichaActiva('direcciones'), 'fa fa-angle-down': ! esFichaActiva('direcciones')} "></i>
              -->
            </div>
            <br />
            <i [ngClass]="{
                'fa fa-angle-up': esFichaActiva('direcciones'),
                'fa fa-angle-down': !esFichaActiva('direcciones')
              }"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('direcciones')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado">
          <i class="fa fa-map-marker icon-ficha"> </i>
        </div>
        <label class="title-ficha">{{ "censo.fichaCliente.datosDirecciones.cabecera" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>

    <div *ngIf="esFichaActiva('direcciones')" class="card-body card-body-ficha">
      <div class="row">
        <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" [(selection)]="selectedDatosDirecciones" pageLinks="4"
          [ngClass]="{ customCursor: selectMultipleDirecciones }" dataKey="idDireccion" [responsive]="true" selectionMode="multiple"
          #tableDirecciones class="tabla-listado" [value]="datosDirecciones" [sortOrder]="1" [paginator]="activarPaginacionDireciones()"
          paginatorPosition="both" [rows]="selectedItemDirecciones" (onRowSelect)="redireccionarDireccion(selectedDatosDirecciones)"
          (onRowUnselect)="
            actualizaSeleccionadosDirecciones(selectedDatosDirecciones)
          ">
          <p-column *ngFor="let col of colsDirecciones" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
            [filter]="true" filterMatchMode="contains">
            <ng-template let-datoH="rowData" pTemplate="body">
              <div *ngIf="setItalic(datoH)">
                <span [ngStyle]="{
                    'font-style': 'italic',
                    'font-weight': 'bold',
                    'text-decoration': 'line-through'
                  }">{{ datoH[col.field] }}</span>
              </div>
              <div *ngIf="!setItalic(datoH)">
                <span>{{ datoH[col.field] }}</span>
              </div>
            </ng-template>
          </p-column>

          <ng-template pTemplate="paginatorLeft">
            <div class="mostrar d-flex text-right justify-content-end">
              <label class="pr-3 registros-totales">Mostrando registros del {{ tableDirecciones.first + 1 }} al {{ tableDirecciones.first + tableDirecciones.rows
                }} de un total de {{ tableDirecciones.totalRecords }}</label>
              <label class="pr-3 numSeleccionados">Seleccionados: {{ numSelectedDirecciones }}</label>
              <label>{{ "general.message.mostrar" | translate }}</label>
              <p-dropdown [(ngModel)]="selectedItemDirecciones" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesDirecciones($event)"></p-dropdown>
              <label class="pl-1">
                {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
              </label>
              <div class="ml-3 selectAll">
                <p-checkbox (onChange)="
                    onChangeSelectAllDirecciones()
                  " [(ngModel)]="selectAllDirecciones" binary="true" label="Seleccionar todo" name="groupname"></p-checkbox>
              </div>
              <label class="ml-3 seleccionMultiple" [ngClass]="{ ' seleccion-multiple': selectMultipleDirecciones }" (click)="
                  isSelectMultipleDirecciones();
                  selectedDatosDirecciones = false
                ">
                <i class="pr-2 fa fa-mouse-pointer"></i>{{ "general.message.seleccion.multiple" | translate }}</label>
            </div>
          </ng-template>
        </p-dataTable>
      </div>
      <br />
    </div>
    <div *ngIf="esFichaActiva('direcciones')" class="card-footer">
      <div class="text-right main-button">
        <button *ngIf="bodyDirecciones.historico" (click)="onInitDirecciones()" pButton type="button" icon="fa fa-undo" iconPos="left"
          label="{{ 'general.message.ocultarHistorico' | translate}}" [disabled]="tarjetaDirecciones == '2'"></button>

        <button *ngIf="!bodyDirecciones.historico" (click)="searchHistoricoDatosDirecciones()" pButton type="button" icon="fa fa-history"
          iconPos="left" label="{{'general.message.mostrarHistorico' | translate}}" [disabled]="tarjetaDirecciones == '2'"></button>

        <button [disabled]="!(
            selectedDatosDirecciones &&
            selectedDatosDirecciones != '' &&
            bodyDirecciones.historico == false) || tarjetaDirecciones == '2' || disabledAction" (click)="
            borrarSelectedDatos(selectedDatosDirecciones);
            selectedDatosDirecciones = false
          " pButton type="button" icon="fa fa-trash-alt" iconPos="left" label="{{'general.boton.eliminar' | translate}}"></button>

        <button (click)="nuevaDireccion()" pButton type="button" [(disabled)]="tarjetaDirecciones == '2' || disabledAction" icon="fa fa-plus"
          iconPos="left" label="{{ 'general.boton.new' | translate}}"></button>
      </div>
    </div>
  </div>

  <!-- END FICHA DATOS DIRECCIONES -->

  <!-- INICIO FICHA DATOS BANCARIOS -->
  <div *ngIf="tarjetaBancarios == '3' || tarjetaBancarios == '2'" class="card">
    <div class="card-header header-ficha" (click)="abreCierraFicha('bancarios')">
      <div *ngIf="!esFichaActiva('bancarios')" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fa fa-bank icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">{{ "censo.consultaDatosBancarios.cabecera" | translate }}
            </label>
          </div>
          <div class="d-flex justify-content-between">
            <label>{{ "censo.datosDireccion.literal.numero.cuentas" | translate }}
              <span>{{ datosBancarios.length }}</span>
            </label>
            <i [ngClass]="{
                'fa fa-angle-up': esFichaActiva('bancarios'),
                'fa fa-angle-down': !esFichaActiva('bancarios')
              }"></i>
          </div>
        </div>
      </div>
      <div *ngIf="esFichaActiva('bancarios')" class=" header-ficha-open d-flex justify-content-start align-items-center">
        <div class="img-colegiado ">
          <i class="fa fa-bank icon-ficha"></i>
        </div>
        <label class="title-ficha">{{ "censo.consultaDatosBancarios.cabecera" | translate }}
        </label>
        <i class="fa fa-angle-up ml-auto"></i>
      </div>
    </div>

    <div *ngIf="esFichaActiva('bancarios')" class="card-body card-body-ficha">
      <div class="row">
        <p-dataTable emptyMessage="{{ 'general.message.no.registros' | translate}}" [ngClass]="{ customCursor: selectMultipleBancarios }"
          [(selection)]="selectedDatosBancarios" [responsive]="true" selectionMode="multiple" dataKey="idCuenta" #tableBancarios
          class="tabla-listado" [value]="datosBancarios" [sortOrder]="1" [paginator]="activarPaginacionBancarios()" (onRowSelect)="redireccionarDatosBancarios(selectedDatosBancarios)"
          (onRowUnselect)="
            actualizaSeleccionadosBancarios(selectedDatosBancarios)
          " paginatorPosition="both" [rows]="selectedItemBancarios" pageLinks="4">
          <p-column *ngFor="let col of colsBancarios" [sortable]="true" [field]="col.field" [header]="col.header" filterPlaceholder="{{'general.boton.search' | translate}}"
            [filter]="true" filterMatchMode="contains">
            <ng-template let-datoH="rowData" pTemplate="body">
              <div *ngIf="setItalic(datoH)">
                <span [ngStyle]="{
                    'font-style': 'italic',
                    'font-weight': 'bold',
                    'text-decoration': 'line-through'
                  }">{{ datoH[col.field] }}</span>
              </div>
              <div *ngIf="!setItalic(datoH)">
                <span>{{ datoH[col.field] }}</span>
              </div>
            </ng-template>
          </p-column>
          <ng-template pTemplate="paginatorLeft">
            <div class="mostrar d-flex text-right justify-content-end">
              <label class="pr-3 registros-totales">Mostrando registros del {{ tableBancarios.first + 1 }} al {{ tableBancarios.first + tableBancarios.rows }}
                de un total de {{ tableBancarios.totalRecords }}</label>
              <label class="pr-3 numSeleccionados">Seleccionados: {{ numSelectedBancarios }}</label>
              <label>{{ "general.message.mostrar" | translate }}</label>
              <p-dropdown [(ngModel)]="selectedItemBancarios" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesBancarios($event)"></p-dropdown>
              <label class="pl-1">
                {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
              </label>
              <div class="ml-3 selectAll">
                <p-checkbox (onChange)="onChangeSelectAllBancarios()" [(ngModel)]="selectAllBancarios" binary="true" label="Seleccionar todo"
                  name="groupname"></p-checkbox>
              </div>
              <label class="ml-3 seleccionMultiple" [ngClass]="{ ' seleccion-multiple': selectMultipleBancarios }" (click)="
                  isSelectMultipleBancarios(); selectedDatosBancarios = false
                ">
                <i class="pr-2 fa fa-mouse-pointer"></i>{{ "general.message.seleccion.multiple" | translate }}</label>
            </div>
          </ng-template>
        </p-dataTable>
      </div>
      <br />
    </div>
    <div *ngIf="esFichaActiva('bancarios')" class="card-footer">
      <div class="text-right main-button">
        <button *ngIf="bodyDatosBancarios.historico" (click)="onInitDatosBancarios()" pButton type="button" icon="fa fa-undo" iconPos="left"
          label="{{ 'general.message.ocultarHistorico' | translate}}"></button>
        <button *ngIf="!bodyDatosBancarios.historico" (click)="searchHistoricoDatosBancarios()" pButton type="button" icon="fa fa-history"
          iconPos="left" label="{{'general.message.mostrarHistorico' | translate}}"></button>
        <button (click)="confirmarEliminar(selectedDatosBancarios)" pButton type="button" icon="fa fa-trash-alt" iconPos="left" [disabled]="!(selectedDatosBancarios && selectedDatosBancarios != '' && !historico) || tarjetaBancarios == '2' || disabledAction"
          label="{{'general.boton.eliminar'  | translate}}"></button>
        <button (click)="nuevaCuentaBancaria()" [disabled]="tarjetaBancarios == '2' || disabledAction" pButton type="button" icon="fa fa-plus"
          iconPos="left" label="{{ 'general.boton.new' | translate}}"></button>
      </div>
    </div>
  </div>
  <!-- END FICHA DATOS BANCARIOS -->

  <!-- INICIO FICHA REGTEL -->
  <div *ngIf="esRegtel">
    <div *ngIf="tarjetaRegtel == '3' || tarjetaRegtel == '2'" class="card">
      <div class="card-header header-ficha" (click)="abreCierraFicha('regtel')">
        <div *ngIf="!esFichaActiva('regtel')" class="form-row">
          <div class="col-lg-1 col-md-2">
            <div class="img-colegiado">
              <i class="fas fa-file-alt icon-ficha"></i>
            </div>
          </div>
          <div class="col-lg-11 col-md-10">
            <div class="d-flex justify-content-start mb-1">
              <label class="mr-auto title-ficha">{{ "censo.regtel.literal.titulo" | translate }}
              </label>
            </div>
            <div class="d-flex justify-content-between">
              <label>{{ "censo.regtel.literal.numero.directorios" | translate }}
                <span>{{ messageRegtel }}</span>
              </label>
              <i [ngClass]="{
                'fa fa-angle-up': esFichaActiva('regtel'),
                'fa fa-angle-down': !esFichaActiva('regtel')
              }"></i>
            </div>
          </div>
        </div>
        <div *ngIf="esFichaActiva('regtel')" class=" header-ficha-open d-flex justify-content-start align-items-center">
          <div class="img-colegiado ">
            <i class="fas fa-file-alt icon-ficha"></i>
          </div>
          <label class="title-ficha">{{ "censo.regtel.literal.titulo" | translate }}
          </label>
          <i class="fa fa-angle-up ml-auto"></i>
        </div>
      </div>

      <div *ngIf="esFichaActiva('regtel')" class="card-body card-body-ficha">
        <div class="row">

          <p-dataTable emptyMessage="{{ messageRegtel }}" [(selection)]="selectedDatosRegtel" [responsive]="true" selectionMode="single"
            dataKey="id" #tableRegTel class="tabla-listado" [value]="bodyRegTel" [sortOrder]="1" [paginator]="activarPaginacionRegTel()"
            (onRowSelect)="onRowSelectedRegTel(selectedDatosRegtel)" (onRowUnselect)=" onRowDesselectedRegTel()" paginatorPosition="both"
            [rows]="selectedItemRegtel" pageLinks="4">
            <p-column *ngFor="let col of colsRegtel" [sortable]="true" [field]="col.field" [header]="col.header | translate" filterPlaceholder="{{'general.boton.search' | translate}}"
              [filter]="true" filterMatchMode="contains">
              <ng-template let-datoH="rowData" pTemplate="body">
                <div *ngIf="setItalic(datoH)">
                  <span [ngStyle]="{
                    'font-style': 'italic',
                    'font-weight': 'bold',
                    'text-decoration': 'line-through'
                  }">{{ datoH[col.field] }}</span>
                </div>
                <div *ngIf="!setItalic(datoH)">
                  <span>{{ datoH[col.field] }}</span>
                </div>
              </ng-template>
            </p-column>
            <ng-template pTemplate="paginatorLeft">
              <div class="mostrar d-flex text-right justify-content-end">
                <label class="pr-3 registros-totales">Mostrando registros del {{ tableRegTel.first + 1 }} al {{ tableRegTel.first + tableRegTel.rows }} de un total
                  de {{ tableRegTel.totalRecords }}</label>
                <label class="pr-3 numSeleccionados">Seleccionados: {{ numSelectedRegtel }}</label>
                <label>{{ "general.message.mostrar" | translate }}</label>
                <p-dropdown [(ngModel)]="selectedItemRegtel" [options]="rowsPerPage" (onChange)="onChangeRowsPerPagesRegtel($event)"></p-dropdown>
                <label class="pl-1">
                  {{ "cargaMasivaDatosCurriculares.numRegistros.literal" | translate }}
                </label>

              </div>
            </ng-template>
          </p-dataTable>
        </div>
        <br />
      </div>
      <div *ngIf="esFichaActiva('regtel')" class="card-footer">
        <div class="text-right main-button">
          <button [disabled]="buttonVisibleRegtelAtras || disabledAction" (click)="onClickAtrasRegtel()" pButton type="button" icon="fa fa-undo"
            iconPos="left" label="{{ 'general.boton.volver' | translate}}"></button>
          <button [disabled]="buttonVisibleRegtelCarpeta || disabledAction || tarjetaRegtel == '2'" (click)="onClickCarpetaRegTel()"
            pButton type="button" icon="fa fa-history" iconPos="left" label="{{ 'censo.regtel.literal.vercarpeta' | translate}}"></button>
          <button [disabled]="buttonVisibleRegtelDescargar || disabledAction || tarjetaRegtel == '2'" (click)="onClickDescargarRegTel()"
            pButton type="button" icon="fa fa-download" iconPos="left" label="{{'formacion.fichaInscripcion.datosCertificados.descargarDocumento'  | translate}}"></button>

        </div>
      </div>
    </div>
  </div>

  <!-- END FICHA REGTEL-->


  <!--FICHA DATOS ALTER MUTUA-->
  <div class="card">
    <div class="card-header header-ficha">
      <div *ngIf="!fichaMutua" class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i *ngIf="!existeImagen" class="fa fa-user icon-ficha"></i>
            <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">Alter Mutua
            </label>
          </div>
          <div class="d-flex justify-content-between">
            <label>
              <a (click)="irAlterMutuaReta()">
                <span style="color: blue; text-decoration: underline; cursor: pointer;">{{"pestana.fichaCliente.alterMutua.alternativa" | translate}}</span>
              </a>
            </label>
            <label>
              <a (click)="irOfertas()">
                <span style="color: blue; text-decoration: underline; cursor: pointer;">{{"pestana.fichaCliente.alterMutua.oferta" | translate}}</span>
              </a>
            </label>
            <i class="float-right"></i>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!--MUTUALIDAD DE LA ABOGACÍA-->
  <div *ngIf="tarjetaMutualidad == '3' || tarjetaMutualidad == '2'" class="card">
    <div class="card-header header-ficha">
      <div class="form-row">
        <div class="col-lg-1 col-md-2">
          <div class="img-colegiado">
            <i class="fas fa-link icon-ficha"></i>
          </div>
        </div>
        <div class="col-lg-11 col-md-10">
          <div class="d-flex justify-content-start mb-1">
            <label class="mr-auto title-ficha">Mutualidad de la abogacía</label>
          </div>
          <div class="d-flex justify-content-between">
            <label>
              <a (click)="irPlanUniversal()">
                <span style="color: blue; text-decoration: underline; cursor: pointer;">{{"pestana.fichaCliente.mutualidad.planProfesional" | translate}}</span>
              </a>
            </label>
            <label>
              <a (click)="irSegAccidentes()">
                <span style="color: blue; text-decoration: underline; cursor: pointer;">{{"pestana.fichaCliente.mutualidad.seguroUniversal" | translate}}</span>
              </a>
            </label>
            <i class="float-right"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!desactivarVolver" class="mt-3 text-right main-button ">
    <button (click)="backTo()" pButton type="button" icon="fa fa-angle-left" iconPos="left" label="{{ 'general.boton.volver' | translate}}"></button>
  </div>

  <!-- CREAR ETIQUETA -->
  <p-dialog #dialog [(visible)]="checked" responsive="true" [draggable]="false" modal="modal" resizable="false" [minHeight]="500"
    [minWidth]="500">
    <p-header class="title">
      <label>{{ mensaje }}</label>
    </p-header>

    <div class="bloque col-lg-12 col-md-12">
      <div class="row">
        <!-- DESHABILITA EL FOCO -->
        <span class="ui-helper-hidden-accessible">
          <input type="text" /> </span>

        <div class="form-group col-lg-6 col-md-6">
          <label *ngIf="historico">{{ "administracion.auditoriaUsuarios.fechaDesde" | translate }}
          </label>
          <label *ngIf="!historico">{{ "administracion.auditoriaUsuarios.fechaDesde" | translate }} (*)
          </label>
          <app-fecha [(value)]="item.fechaInicio" (valueChangeInput)="fillFechaInicio($event)" [disabled]="historico" (valueChangeSelected)="fillFechaInicio($event)"></app-fecha>
        </div>

        <div class="form-group col-lg-6 col-md-6 form-group-date">
          <label *ngIf="historico">{{ "administracion.auditoriaUsuarios.fechaHasta" | translate }}
          </label>
          <label *ngIf="!historico">{{ "administracion.auditoriaUsuarios.fechaHasta" | translate }}
          </label>
          <app-fecha [(value)]="item.fechaBaja" (valueChangeInput)="fillFechaBaja($event)" [disabled]="historico" (valueChangeSelected)="fillFechaBaja($event)"
            [minDate]="fechaHoy"></app-fecha>
          <!-- <div
            *ngIf="item.fechaBaja != null && !isFechaBajaCorrect && !historico"
          >
            <label class="labelError">{{
              "gratuita.altaTurnos.error.fechaBajaPosteriorInicio" | translate
            }}</label>
          </div> -->
        </div>
      </div>
    </div>

    <p-footer *ngIf="!historico">
      <div class="text-right main-button">
        <button (click)="aceptDialogConfirmation(item)" pButton type="button" icon="fa fa-check" iconPos="left" label="{{ 'general.boton.submit' | translate}}"
          [disabled]="!isTrue"></button>
        <button (click)="closeDialogConfirmation(item)" pButton type="button" icon="fa fa-close" iconPos="left" label="{{ 'general.boton.cancel' | translate}}"></button>
      </div>
    </p-footer>
  </p-dialog>

  <!-- AUDITORIA -->

  <p-dialog [(visible)]="displayAuditoria" responsive="true" [draggable]="false" modal="modal" resizable="false" [minWidth]="500">
    <p-header class="title">
      <label>{{ "general.ventana.cgae" | translate }} -{{ "censo.consultaHistorico.cabecera" | translate }}
      </label>
    </p-header>

    <div class="bloque col-lg-12 col-md-12">
      <div class="row">
        <div class="form-group col-lg-12 col-md-12">
          <label>{{ "censo.datosHistorico.literal.motivo" | translate }} (*)</label>
          <textarea pInputTextarea [(ngModel)]="generalBody.motivo" (ngModelChange)="comprobarCampoMotivo()"></textarea>
        </div>
      </div>
    </div>
    <p-footer>
      <div class="text-right main-button ">
        <button (click)="cerrarAuditoria()" pButton type="button" icon="fa fa-close" iconPos="left" label="{{ 'general.boton.close' | translate}}"></button>
        <button (click)="solicitarModificacionGenerales()" [disabled]="!showGuardarAuditoria" pButton type="button" icon="fa fa-save"
          iconPos="left" label="{{ 'general.boton.guardarCerrar' | translate}}"></button>
      </div>
    </p-footer>
  </p-dialog>

  <app-dialog></app-dialog>

  <!-- <div class="mainFrameWrapper">
    <iframe
      [src]="url"
      id="mainWorkArea"
      name="mainWorkArea"
      frameborder="0"
      scrolling="no"
      iframeAutoHeight
    ></iframe>
  </div> -->

  <!-- <div #target *ngIf="progressSpinner" class="overlay-spinner"> -->
  <div *ngIf="progressSpinner" class="overlay-spinner">
    <!-- <p-progressSpinner animationDuration="1s"></p-progressSpinner> -->
    <div class="loader"></div>
  </div>