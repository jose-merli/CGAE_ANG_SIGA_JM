<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<div class="busqueda-container">
  <div class="header-title">
    <i class="fa fa-square"></i>
    <p>{{ "menu.censo" | translate}}
      <i class="fa fa-angle-right"></i> {{ "nuevaSolicitud.nuevaSolicitudesModificacion.literal" | translate}}</p>
  </div>

  <div class="card">
    <div *ngIf="isNewMode" class="card-body">
      <p class="title-module">{{ "nuevaSolicitud.nuevaSolicitudesModificacion.literal" | translate}}
        <i (click)="onHideCard()" *ngIf="showCard" class="fa fa-angle-up float-right"></i>
        <i (click)="onHideCard()" *ngIf="!showCard" class="fa fa-angle-down float-right"></i>
      </p>

      <div *ngIf="showCard" class="module vista-avanzada">

        <div class="form-row">
          <div class="form-group col-lg-3 col-md-3">
            <label>{{ "censo.documentacionSolicitud.literal.tipoSolicitud" | translate}}</label>
            <br>
            <p-dropdown class="select-form" [options]="tipo" [(ngModel)]="selectedTipo" placeholder="{{'general.boton.seleccionar' | translate}}"
              (onChange)="onChange($event.value)"></p-dropdown>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label>{{ "censo.resultadosSolicitudesModificacion.literal.nColegiado" | translate}}</label>
            <input type="text" name="numColegiado" value="" class="box" class="form-control" [(ngModel)]='body.numColegiado' [disabled]="!isNewMode"
              pInputText>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label>{{ "censo.consultaDatosColegiacion.literal.numIden" | translate}}</label>
            <input type="text" name="numIdentificacion" value="" class="box" class="form-control" [(ngModel)]='body.numIdentificacion'
              pInputText>
          </div>

        </div>

        <div class="form-row">

          <div class="form-group col-lg-3 col-md-3">
            <label>{{ 'censo.resultadosSolicitudesModificacion.literal.Nombre' | translate}} </label>
            <input type="text" name="nombre" value="" class="box" class="form-control" [(ngModel)]='body.nombre' pInputText>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label>{{ 'gratuita.mantenimientoTablasMaestra.literal.apellidos' | translate}} </label>
            <input type="text" name="apellidos" value="" class="box" class="form-control" [(ngModel)]='body.apellidos' pInputText>
          </div>

          <div class="form-group col-lg-3 col-md-3">
            <label>{{ 'censo.resultadosSolicitudesModificacion.literal.descripcion' | translate}} </label>
            <input type="text" name="motivo" value="" class="box" class="form-control" [(ngModel)]='body.motivo' pInputText>
          </div>

          <div class="form-group col-lg-6 col-md-6">
            <label>{{ "censo.resultadosSolicitudesTextoLibre.literal.descripcionSolicitud" | translate}}</label>
            <textarea pInputTextarea autoResize="autoResize" [(ngModel)]="body.descripcion"></textarea>
          </div>
        </div>
      </div>

      <div class="card-footer">
        <div class="text-right main-button ">
          <button *ngIf="!esColegiado" (click)="processRequest()" pButton type="button" icon="fa fa-gears" iconPos="left" label="{{'modificacionDatos.boton.procesarSolicitud' | translate}}"></button>
          <button *ngIf="!esColegiado" (click)="refuseRequest()" pButton type="button" icon="fa fa-times" iconPos="left" label="{{ 'general.boton.denegarSolicitud' | translate}}"></button>
          <button *ngIf="esColegiado" (click)="accept()" pButton type="button" icon="fa fa-check" iconPos="left" label="{{ 'general.boton.submit' | translate}}"></button>
        </div>
      </div>
    </div>

    <div *ngIf="!isNewMode" class="card-body">
      <p class="title-module">{{ "consulta.nuevaSolicitudesModificacion.literal" | translate}}
        <i (click)="onHideCard()" *ngIf="showCard" class="fa fa-angle-up float-right"></i>
        <i (click)="onHideCard()" *ngIf="!showCard" class="fa fa-angle-down float-right"></i>
      </p>

      <div *ngIf="showCard" class="module vista-avanzada">

        <div class="form-row">
          <div class="form-group col-lg-12 col-md-12">
            <label>{{ "censo.resultadosSolicitudesTextoLibre.literal.descripcionSolicitud" | translate}}</label>
            <textarea pInputTextarea autoResize="autoResize" [(ngModel)]="body.descripcion" [disabled]="true"></textarea>
          </div>
        </div>

        <p class="title-module">{{ "censo.solicitudModificacion.literal.titulo" | translate}}</p>

        <div class="form-row">
          <div class="form-group col-lg-12 col-md-12">
            <label>{{ "censo.resultadosSolicitudesTextoLibre.literal.descripcionSolicitud" | translate}}</label>
            <textarea pInputTextarea autoResize="autoResize" [(ngModel)]="body.descripcion" [disabled]="true"></textarea>
          </div>
        </div>


        <div class="card-footer">
          <div class="text-right main-button ">
            <button *ngIf="!esColegiado" (click)="processRequest()" pButton type="button" icon="fa fa-gears" iconPos="left" label="{{'modificacionDatos.boton.procesarSolicitud' | translate}}"></button>
            <button *ngIf="!esColegiado" (click)="refuseRequest()" pButton type="button" icon="fa fa-times" iconPos="left" label="{{ 'general.boton.denegarSolicitud' | translate}}"></button>
            <button *ngIf="esColegiado" (click)="accept()" pButton type="button" icon="fa fa-check" iconPos="left" label="{{ 'general.boton.submit' | translate}}"></button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3 text-right main-button ">
    <button (click)="return()" pButton type="button" icon="fa fa-angle-left" iconPos="left" label="{{ 'general.boton.volver' | translate}}"></button>
  </div>

  <div *ngIf="progressSpinner " class="overlay-spinner ">
    <div class="loader "></div>
  </div>