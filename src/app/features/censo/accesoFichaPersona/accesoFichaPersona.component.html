<div class="busqueda-container">

    <!--DATOS GENERALES-->
    <div class="card">
        <div class="card-header header-ficha">
            <div *ngIf="!openFicha" class="form-row">
                <div class="col-lg-1 col-md-2">
                    <div class="img-colegiado">
                        <i class=" fa fa-user   icon-ficha"></i>
                    </div>
                </div>
                <div class="col-lg-11 col-md-10">
                    <div class="d-flex justify-content-end mb-1">
                        <label class="mr-auto title-ficha">Notario</label>
                    </div>
                    <div class="d-flex justify-content-between">
                        <label>{{"administracion.usuarios.literal.NIF" | translate}}
                            <span>{{ body.nif }}</span>
                        </label>
                        <label>{{"administracion.parametrosGenerales.literal.nombre" | translate}}
                            <span>{{ body.nombre }}</span>
                        </label>
                        <label>Situación
                            <span>{{ body.situacion }}</span>
                        </label>
                        <label>Nº colegiado
                            <span>{{ body.numeroColegiado }}</span>
                        </label>
                        <label>{{"administracion.usuarios.literal.fechaAlta" | translate}}
                            <span>{{ body.fechaAlta }}</span>
                        </label>
                        <i (click)="redireccionar()" class="fa fa-rotate-right"></i>
                        <i (click)="abrirFicha()" [ngClass]="{ 'fa fa-angle-up': openFicha, 'fa fa-angle-down': !openFicha} "></i>
                    </div>
                </div>
            </div>
            <div *ngIf="openFicha" class=" header-ficha-open d-flex justify-content-start align-items-center">
                <div class="img-colegiado">
                    <i class=" fa fa-user   icon-ficha"></i>
                </div>
                <label class="title-ficha">Notario</label>
                <i (click)="abrirFicha()" class="fa fa-angle-up ml-auto"></i>
            </div>
        </div>

        <!--cuerpo datos generales-->
        <div *ngIf="openFicha" class="card-body card-body-ficha">
            <div class="row">
                <div class="bloque col-lg-3 col-md-3">
                    <div class="img-colegiado">
                        <i class="fa fa-user" style="font-size:130px;color:grey"></i>

                        <p-fileUpload #fubauto chooseLabel="" class="edit" mode="basic" name="file" auto="true" accept="image/*" (change)="uploadImage($event)"
                            auto="true">
                        </p-fileUpload>
                    </div>
                </div>
                <div class="bloque col-lg-6 col-md-6">
                    <div class="form-row">
                        <div class="form-group col-lg-3 col-md-6">
                            <label>{{"censo.fichaCliente.literal.identificacion" | translate}} (*)</label>
                            <input type="text" class="form-control" [(ngModel)]="body.nif" [(disabled)]="!editar" pInputText>
                        </div>
                        <div class="form-group col-lg-3 col-md-6">
                            <label>{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}} (*)</label>
                            <p-dropdown class="select-form" [(ngModel)]="selectedcomboTipoIdentificacion" [options]="comboTipoIdentificacion" [(disabled)]="!editar"></p-dropdown>
                        </div>
                        <div class="form-group col-lg-3 col-md-6"></div>
                        <div class="form-group col-lg-6 col-md-6">
                            <label>{{"administracion.parametrosGenerales.literal.nombre" | translate}}</label>
                            <input [(ngModel)]="body.nombre" type="text" class="form-control" [(disabled)]="!editar" pInputText>
                        </div>
                        <div class="form-group col-lg-3 col-md-6">
                            <label>{{"gratuita.mantenimientoTablasMaestra.literal.apellidos" | translate}}</label>
                            <input [(ngModel)]="body.apellido1 " type="text " class="form-control" [(disabled)]="!editar" pInputText>
                        </div>
                        <div class="form-group col-lg-3 col-md-6">
                            <label></label>
                            <input [(ngModel)]="body.apellido2 " type="text " class="form-control" [(disabled)]="!editar" pInputText>
                        </div>
                        <div class="form-group col-lg-3 col-md-6 ">
                            <label>{{"censo.fichaCliente.situacion.cabecera" | translate}}</label>
                            <p-dropdown class="select-form" [(ngModel)]="body.situacion" [options]="comboSituacion" [(disabled)]="!editar"></p-dropdown>
                        </div>
                        <div class="form-group col-lg-3 col-md-6 ">
                            <label>Nº Colegiado/Registro</label>
                            <input type="text " class="form-control " [(ngModel)]="body.numeroColegiado" [(disabled)]="!editar" pInputText>
                        </div>
                        <div class="form-group col-lg-6 col-md-6 form-group-date">
                            <label>Fecha incorporación/Registro</label>
                            <p-calendar [defaultDate]="null" [(ngModel)]="body.fechaAlta" dateFormat="dd/mm/yy" icon="far fa-calendar-alt" showIcon="true"
                                [(disabled)]="!editar"></p-calendar>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="card-footer ">
                <div class="text-right main-button ">
                    <button (click)="isSearch()" pButton type="button" icon="fa fa-search" iconPos="left" label="Buscar"></button>
                    <button (click)="desasociarPersona()" pButton type="button" icon="fa fa-undo" iconPos="left" label="Desasociar"></button>
                    <button (click)="guardar()" pButton type="button" icon="far fa-save" iconPos="left" label="Guardar"></button>
                </div>
            </div>
            <!--END DATOS GENERALES-->
        </div>
        <p-growl [(value)]="msgs "></p-growl>
        <div *ngIf="progressSpinner " class="overlay-spinner ">
            <div class="loader "></div>
        </div>