<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<div class="header-title">
    <i class="fa fa-square"></i>
    <p>{{ "menu.censo" | translate}}
        <i class="fa fa-angle-right"></i>{{'censo.solicitudincorporacion' | translate}}
    </p>
</div>

<!--Tarjeta estado solicitud-->
<div class="card">
    <div class="card-header header-ficha" (click)="abreCierraEstadoSolicitud()">
        <div [hidden]="mostrarEstadoSolicitud" class="form-row">
            <div class="col-lg-1 col-md-2">
                <div class="img-colegiado">
                    <i *ngIf="!existeImagen" class="fas fa-info icon-ficha"></i>
                    <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
                </div>
            </div>
            <div class="col-lg-11 col-md-10">
                <div class="d-flex justify-content-start mb-1">
                    <label class="mr-auto title-ficha">Datos de solicitud</label>
                </div>
                <div class="d-flex justify-content-between">
                    <label>Estado
                        <span>dto
                            <!--{{solicitudEditar.tipoSolicitud}}--></span>
                    </label>
                    <i *ngIf="!mostrarEstadoSolicitud" class="fa fa-angle-down float-right"></i>
                </div>
            </div>
        </div>
        <div *ngIf="mostrarEstadoSolicitud" class=" header-ficha-open d-flex justify-content-start align-items-center">
            <div class="img-colegiado">
                <i *ngIf="!existeImagen" class="fas fa-info icon-ficha"></i>
                <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
            </div>
            <label class="title-ficha">Estado Solicitud
                <!--{{ "general.message.datos.generales" | translate}}--></label>
            <i class="fa fa-angle-up ml-auto"></i>
        </div>
    </div>

    <div [hidden]="!mostrarEstadoSolicitud " class="card-body card-body-ficha">
        <div class="form-row">
            <div class="col-lg-3 col-md-3">
                <label>Estado solicitud</label>
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Estado solicitud</label>
            </div>
        </div>
    </div>
</div>


<!--FICHA DATOS DIRECCIÓN-->
<div class="card">
    <div class="card-header header-ficha" (click)="abreCierraDatosDireccion()">
        <div [hidden]="datosDireccion" class="form-row">
            <div class="col-lg-1 col-md-2">
                <div class="img-colegiado">
                    <i *ngIf="!existeImagen" class="fa fa-map-marker icon-ficha"></i>
                    <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
                </div>
            </div>
            <div class="col-lg-11 col-md-10">
                <div class="d-flex justify-content-start mb-1">
                    <label class="mr-auto title-ficha">Datos de dirección
                        <!--{{ "general.message.datos.generales" | translate}}--></label>
                    <!--<label class="registros-ficha">(0 registros)</label>-->
                </div>
                <div class="d-flex justify-content-between">
                    <label>País
                        <span>dto</span>
                    </label>
                    <label>Población
                        <span>dto</span>
                    </label>
                    <label>Provincia
                        <span>dto</span>
                    </label>
                    <i *ngIf="!datosDireccion" class="fa fa-angle-down float-right"></i>
                </div>
            </div>
        </div>
        <div *ngIf="datosDireccion" class=" header-ficha-open d-flex justify-content-start align-items-center">
            <div class="img-colegiado">
                <i *ngIf="!existeImagen" class="fa fa-map-marker icon-ficha"></i>
                <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
            </div>
            <label class="title-ficha">Datos de dirección
                <!--{{ "general.message.datos.generales" | translate}}--></label>
            <i class="fa fa-angle-up ml-auto"></i>
        </div>
    </div>
    <!--cuerpo datos dirección-->
    <div [hidden]="!datosDireccion" class="card-body card-body-ficha">
        <div class="row">
            <div class="form-group col-lg-3 col-md-3">
                <label>País
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <p-dropdown class="select-form" [(ngModel)]="paisSelected" [options]="paises" optionLabel="label"
                    dataKey="value" (onChange)="onChangePais($event)"></p-dropdown>
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>Provincia
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <p-dropdown [disabled]="deshabilitarDireccion()" class="select-form" [(ngModel)]="provinciaSelected"
                    [options]="provincias" optionLabel="label" dataKey="value" (onChange)="onChangeProvincia($event)"></p-dropdown>
                <!--<input type="text" class="form-control" pInputText [(ngModel)]="solicitudEditar.nombreProvincia">-->
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>Población
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <p-dropdown [disabled]="deshabilitarDireccion()" class="select-form" [(ngModel)]="poblacionSelected"
                    [options]="poblaciones" optionLabel="label" dataKey="value"></p-dropdown>
                <!-- <input type="text" class="form-control" pInputText [(ngModel)]="solicitudEditar.nombrePoblacion">-->
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>Domicilio
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>CP
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>

            <div class="form-group col-lg-3 col-md-3">
                <label>Telefono
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>Movil
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <input type="text" class="form-control" pInputText [(ngModel)]="sl">
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>Correo electrónico
                    <!--{{"censo.busquedaClientesAvanzada.literal.tipoCliente" | translate}}--></label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
        </div>
    </div>
</div>

<!--TARJETA DATOS BANCARIOS-->
<div class="card">
    <div class="card-header header-ficha" (click)="abreCierraDatosBancarios()">
        <div [hidden]="datosBancarios" class="form-row">
            <div class="col-lg-1 col-md-2">
                <div class="img-colegiado">
                    <i *ngIf="!existeImagen" class="fas fa-credit-card icon-ficha"></i>
                    <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
                </div>
            </div>
            <div class="col-lg-11 col-md-10">
                <div class="d-flex justify-content-start mb-1">
                    <label class="mr-auto title-ficha">Datos Bancarios</label>
                </div>
                <div class="d-flex justify-content-between">
                    <label>Cuenta
                        <span>dto
                            <!--{{solicitudEditar.tipoSolicitud}}--></span>
                    </label>
                    <i *ngIf="!datosBancarios" class="fa fa-angle-down float-right"></i>
                </div>
            </div>
        </div>
        <div *ngIf="datosBancarios" class=" header-ficha-open d-flex justify-content-start align-items-center">
            <div class="img-colegiado">
                <i *ngIf="!existeImagen" class="fas fa-credit-card icon-ficha"></i>
                <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
            </div>
            <label class="title-ficha">Datos Bancarios</label>
            <i class="fa fa-angle-up ml-auto"></i>
        </div>
    </div>

    <div [hidden]="!datosBancarios" class="card-body card-body-ficha">
        <div class="form-row">
            <div class="form-group col-lg-3 col-md-3">
                <label>Cuenta</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>IBAN</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>SWIFT</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="form-group col-lg-3 col-md-3">
                <label>Periocidad de pago</label>
                <p-dropdown class="select-form" [(ngModel)]="pagoSelected" [options]="comboPago" optionLabel="label"
                    dataKey="value"></p-dropdown>
            </div>
        </div>

    </div>
</div>

<!--TARJETA DATOS POLIZA-->
<div class="card">
    <div class="card-header header-ficha" (click)="abreCierraDatosPoliza()">
        <div [hidden]="datosPoliza" class="form-row">
            <div class="col-lg-1 col-md-2">
                <div class="img-colegiado">
                    <i *ngIf="!existeImagen" class="fas fa-file-alt icon-ficha"></i>
                    <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
                </div>
            </div>
            <div class="col-lg-11 col-md-10">
                <div class="d-flex justify-content-start mb-1">
                    <label class="mr-auto title-ficha">Datos Póliza</label>
                </div>
                <div class="d-flex justify-content-between">
                    <label>Cuenta
                        <span></span>
                    </label>
                    <i *ngIf="!datosPoliza" class="fa fa-angle-down float-right"></i>
                </div>
            </div>
        </div>
        <div *ngIf="datosPoliza" class=" header-ficha-open d-flex justify-content-start align-items-center">
            <div class="img-colegiado">
                <i *ngIf="!existeImagen" class="fas fa-file-alt icon-ficha"></i>
                <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
            </div>
            <label class="title-ficha">Datos Póliza</label>
            <i class="fa fa-angle-up ml-auto"></i>
        </div>
    </div>
    <!--cuerpo datos poliza-->
    <div [hidden]="!datosPoliza" class="card-body card-body-ficha">
        <div class="form-row">
            <div class="col-lg-3 col-md-3">
                <label>Opción de cobertura</label>
                <p-dropdown class="select-form" [(ngModel)]="provinciaSelected" [options]="provincias" optionLabel="label"
                    dataKey="value"></p-dropdown>
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Cuota mensual</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Capital objetivo estimado a 65 años</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Cuota mensual</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Beneficiarios</label>
                <p-dropdown class="select-form" [(ngModel)]="provinciaSelected" [options]="provincias" optionLabel="label"
                    dataKey="value"></p-dropdown>
            </div>
            <div class="col-lg-3 col-md-3">
                <br>
                <p-checkbox [(ngModel)]='valorCheckUsuarioAutomatico' binary="true" label=" Asistencia Sanitaria"></p-checkbox>
            </div>
            <div class="col-lg-7 col-md-7">
                <br>
                <label style="font-style:italic">Las cuotas aportadas durante los tres primeros años al sistema de
                    previsión profesional para
                    las garantías de Ahorro-Jubilacion, Fallecimiento, Incapacidad Permanente,
                    Incapacidad Temporal Profesional y Dependencia, tendrá una reducción del 50% para los menores de 50
                    años</label>
            </div>
        </div>
    </div>
</div>


<!--TARJETA UNIDAD FAMILIAR-->
<div class="card">
    <div class="card-header header-ficha" (click)="abreCierraDatosPoliza()">
        <div [hidden]="datosPoliza" class="form-row">
            <div class="col-lg-1 col-md-2">
                <div class="img-colegiado">
                    <i *ngIf="!existeImagen" class="fas fa-file-alt icon-ficha"></i>
                    <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
                </div>
            </div>
            <div class="col-lg-11 col-md-10">
                <div class="d-flex justify-content-start mb-1">
                    <label class="mr-auto title-ficha">Unidad familiar</label>
                </div>
                <div class="d-flex justify-content-between">
                    <label>Fecha nacimiento
                        <span></span>
                    </label>
                    <label>Número de hijos
                        <span></span>
                    </label>
                    <i *ngIf="!datosPoliza" class="fa fa-angle-down float-right"></i>
                </div>
            </div>
        </div>
        <div *ngIf="datosPoliza" class=" header-ficha-open d-flex justify-content-start align-items-center">
            <div class="img-colegiado">
                <i *ngIf="!existeImagen" class="fas fa-file-alt icon-ficha"></i>
                <img *ngIf="existeImagen" [src]="imagenPersonaJuridica" class="icon-ficha">
            </div>
            <label class="title-ficha">Unidad familiar</label>
            <i class="fa fa-angle-up ml-auto"></i>
        </div>
    </div>
    <!--cuerpo datos unidad familiar-->
    <div [hidden]="!datosPoliza" class="card-body card-body-ficha">
        <div class="form-row">
            
            <div class="col-lg-3 col-md-3">
                <label>Opción de cobertura</label>
                <p-dropdown class="select-form" [(ngModel)]="provinciaSelected" [options]="provincias" optionLabel="label"
                    dataKey="value"></p-dropdown>
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Cuota mensual</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Capital objetivo estimado a 65 años</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Cuota mensual</label>
                <input type="text" class="form-control" pInputText [(ngModel)]="s">
            </div>
            <div class="col-lg-3 col-md-3">
                <label>Beneficiarios</label>
                <p-dropdown class="select-form" [(ngModel)]="provinciaSelected" [options]="provincias" optionLabel="label"
                    dataKey="value"></p-dropdown>
            </div>
            <div class="col-lg-3 col-md-3">
                <br>
                <p-checkbox [(ngModel)]='valorCheckUsuarioAutomatico' binary="true" label=" Asistencia Sanitaria"></p-checkbox>
            </div>
            <div class="col-lg-7 col-md-7">
                <br>
                <label style="font-style:italic">Las cuotas aportadas durante los tres primeros años al sistema de
                    previsión profesional para
                    las garantías de Ahorro-Jubilacion, Fallecimiento, Incapacidad Permanente,
                    Incapacidad Temporal Profesional y Dependencia, tendrá una reducción del 50% para los menores de 50
                    años</label>
            </div>
        </div>
    </div>
</div>

<div class="mt-3 text-right main-button ">
    <button (click)="backTo()" pButton type="button " icon="fa fa-angle-left" iconPos="left" label="{{ 'general.boton.volver' | translate}}"></button>
    <button (click)="guardar()" pButton type="button " icon="fa fa-save" iconPos="left" label="Guardar"></button>
</div>


<div *ngIf="progressSpinner" class="overlay-spinner">
    <div class="loader"></div>
</div>