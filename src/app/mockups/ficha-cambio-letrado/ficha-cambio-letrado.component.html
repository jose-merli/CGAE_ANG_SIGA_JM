<p-growl [(value)]="msgs" (onHover)="clear()" life="30000"></p-growl>

<div id="fichaCambioLetradoDesigOficio">

  <div>

    <div id="top"></div>

    <app-migas-de-pan [rutas]="rutas"></app-migas-de-pan>

    <div class="tarjetaFija" *ngIf="tarjetaFija !== null">

      <div class="card">
        <div class="card-body p-0">
          <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel [disabled]="true">
              <mat-expansion-panel-header class="h-100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                <app-tarjeta [image]="tarjetaFija.imagen" [cardTitle]="tarjetaFija.nombre" [campos]="tarjetaFija.campos"
                  [icon]="tarjetaFija.icono" [enlaces]="tarjetaFija.enlaces" [fixed]="tarjetaFija.fixed" class="w-100"
                  (isOpen)="isOpenReceive($event)">
                </app-tarjeta>
              </mat-expansion-panel-header>
              <ng-template matExpansionPanelContent>
              </ng-template>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </div>

    </div>

    <div *ngFor="let tarj of listaTarjetas; let i = index;">
      <div class="card" [id]="tarj.id">
        <div class="card-body p-0">
          <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel (opened)="tarj.opened = true" (closed)="tarj.opened = false"
              [disabled]="tarj.fixed || !tarj.detalle" [expanded]="tarj.opened">
              <mat-expansion-panel-header class="h-100" [collapsedHeight]="'auto'" [expandedHeight]="'auto'">
                <app-tarjeta [image]="tarj.imagen" [cardTitle]="tarj.nombre" [campos]="tarj.campos" [icon]="tarj.icono"
                  [enlaces]="tarj.enlaces" [cardOpenState]="tarj.opened" [fixed]="tarj.fixed" class="w-100">
                </app-tarjeta>
              </mat-expansion-panel-header>
              <ng-template matExpansionPanelContent>
                <div *ngIf="tarj.nombre == 'Datos Colegiado Renunciante'">
                  <app-detalle-tarjeta-datos-renunciante></app-detalle-tarjeta-datos-renunciante>
                </div>
                <div *ngIf="tarj.nombre == 'Datos Colegiado Sustituto'">
                  <app-detalle-tarjeta-datos-sustituto></app-detalle-tarjeta-datos-sustituto>
                </div>
              </ng-template>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </div>
    </div>

    <div id="down"></div>

  </div>
</div>

<div class="text-right main-button mt-2">
  <button pButton type="button" icon="fa fa-angle-left" iconPos="left" label="Volver"></button>
  <button pButton type="button" icon="fa fa-pencil-square-o" iconPos="left" label="Guardar y Cerrar"
    (click)="showMsg('success', 'Se ha guardado correctamente', '')"></button>
</div>